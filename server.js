!function(e){var a={};function i(r){if(a[r])return a[r].exports;var t=a[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=a,i.d=function(e,a,r){i.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},i.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(a,"a",a),a},i.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},i.p="",i(i.s=57)}([function(e,a){e.exports=require("lodash")},function(e,a){var i,r,t,o,n,c,l,s,d;n={},r={},t={},o={},i={},c={step:{}},d=function(e,a){return t[e].deploys.push(a)},s=function(e,a){return t[e].depends.push(a)},l=function(e){var a,i,r;i=[];for(a in e)switch(r=e[a],!1){case null==o[a]:a=t[a].base,i.push(n[a].merge(r));break;case null==n[a]:i.push(n[a].append(r));break;default:i.push(void 0)}return i},e.exports={Set:n,Map:r,Name:t,State:c,Finder:i,Query:o,set_deploy:d,set_depend:s,merge:l}},function(e,a,i){var r;e.exports=r=i(1),r.Rule=i(21),r.Base={Query:i(3),Set:i(9),Map:i(10),Model:i(8),Finder:i(7)}},function(e,a,i){var r,t,o,n,c;o=i(0),r=function(){return new Object(null)},c=function(e){var a,i,t;for(t=r(),a=0,i=e.length;a<i;a++)t[e[a]]=!0;return t},n=function(e,a,i){return a?new t(e,function(){var r,t,n;switch(this._filters=e._filters.concat(),a&&a.constructor){case Object:t=[];for(r in a)n=a[r],t.push(i(this,r,n,o.property(r)));return t;case Function:case Array:case String:return i(this,null,a,function(e){return e});default:return console.log({req:a})}}):e},e.exports=t=function(){class e{static build(){var a;return a=null,new e({_all_ids:a,_group:null,_filters:[],$sort:{}},function(){return this.all=this,this._memory=r()})}constructor(e,a){this._step=0,this._copy(e),a.call(this)}_copy({all:e,_all_ids:a,_group:i,_filters:r,$sort:t}){this.all=e,this._all_ids=a,this._group=i,this._filters=r,this.$sort=t}in(e){return n(this,e,function(e,a,i,r){var t,o;switch(t=function(a){return e._filters.push(a)},i&&i.constructor){case Array:return o=c(i),t(function(e){var a,i,t,n;for(a=0,t=(n=r(e)).length;a<t;a++)if(i=n[a],o[i])return!0;return!1});case RegExp:return t(function(e){var a,t,o,n;for(a=0,t=(o=r(e)).length;a<t;a++)if(n=o[a],i.test(n))return!0;return!1});case null:case 0:case Boolean:case String:case Number:return t(function(e){var a;return-1<(null!=(a=r(e))?a.indexOf(i):void 0)});default:throw console.log({target:a,req:i,path:r}),Error("unimplemented")}})}where(e){return n(this,e,function(e,a,i,r){var t,o;switch(t=function(a){return e._filters.push(a)},i&&i.constructor){case Function:return t(i);case Array:return"_id"===a?e._all_ids=i:(o=c(i),t(function(e){return o[r(e)]}));case RegExp:return t(function(e){return i.test(r(e))});case null:case 0:case Boolean:case String:case Number:return"_id"===a?e._all_ids=[i]:t(function(e){return i===r(e)});default:throw console.log({target:a,req:i,path:r}),Error("unimplemented")}})}search(e){var a,i,r;return e&&(i=function(){var i,r,t,o;for(o=[],i=0,r=(t=e.split(/\s+/)).length;i<r;i++)(a=(a=t[i]).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")).length&&o.push(`(${a})`);return o}()).length?(r=new RegExp(i.join("|"),"ig"),this.where(function(e){return!e.search_words||r.test(e.search_words)})):this}shuffle(){return this.sort(Math.random)}order(a){return o.isEqual(a,this.$sort["_reduce.list"])?this:new e(this,function(){return this.$sort=o.cloneDeep(this.$sort),this.$sort["_reduce.list"]=a})}sort(...e){return this.order({sort:e})}page(e){return this.order({page_by:e})}find(...e){var a,i,r,t;for(a=0,r=e.length;a<r;a++)if(i=e[a],(t=this.hash[i])&&t)return t;return null}finds(e){var a,i,r,t,o;for(o=[],a=0,r=e.length;a<r;a++)i=e[a],(t=this.hash[i])&&o.push(t);return o}pluck(){return this.list.pluck(...arguments)}}return Object.defineProperties(e.prototype,{reduce:{get:function(){return this.all._finder.calculate(this,this.all._memory),this._reduce}},list:{get:function(){return this.reduce.list}},hash:{get:function(){return this.reduce.hash}},memory:{get:function(){return this.all._memory}},ids:{get:function(){return Object.keys(this.hash)}}}),e}.call(this)},function(e,a){e.exports=require("child_process")},function(e,a,i){var r,t;r=i(20),t=i(6),e.exports={YAML:function(e){return r.load(t.readFileSync(e,"utf8"))},API:function(e){return async function(a,i,r){var t,o,n,c,l,s,d;l=new Date-0;try{return null==(s=await e(a)).read_at&&(s.read_at=l),i.json(s)}catch(e){return({name:c,message:n,stack:d,fileName:t,lineNumber:o}=e),i.json({name:c,message:n,stack:d,fileName:t,lineNumber:o})}}}}},function(e,a){e.exports=require("fs")},function(e,a,i){var r,t,o,n,c,l,s,d;l=i(0),({State:c,Query:n,Format:t}=i(1)),o=function(){return new Object(null)},s=function({depends:e},a,i){var r,t,o,n,c,l;for(r=0,c=e.length;r<c;r++)(0,e[r])();switch(null!=a?a.constructor:void 0){case Array:for(n=0,l=a.length;n<l;n++)i(o=a[n]);break;case Object:for(t in a)(o=a[t])._id=t,i(o)}},d=function(e,a){var i,r;if(!e||!a)return!1;for(i=0,r=a.length;i<r;i++)if(!(0,a[i])(e))return!1;return!0},r=0,e.exports=class{constructor(e){this.name=e,c.step[this.name.list]=++r}calculate(e,a){var i;e._step<c.step[this.name.list]&&(i=l.cloneDeep(this.format),this.reduce(this.map,i,e,a))}reduce(e,a,i,t){var o,n,c,s,_,u,m,f,h,g,p,b,j,A,y;for(i._step=++r,p={_reduce:{list:[],hash:{}}},delete i._reduce,s=0,m=(j=null!=(b=i._all_ids)?b:Object.keys(t)).length;s<m;s++)if((h=t[j[s]])&&(({item:_,$group:o}=h),d(_,i._filters)))for(u=0,f=o.length;u<f;u++)[g,n]=o[u],h=p[g]=a[g],e.reduce(_,h,n);for(g in p)h=p[g],e.finish(h,i,this.set),l.set(i,g,h);A=i.$sort,y=[];for(g in A)c=A[g],(h=l.get(i,g))&&(h=e.order(h,c,this.set),y.push(l.set(i,g,h)));return y}clear_cache(e){c.step[this.name.list]=++r}remove(e,a){var i,r;if(({_memory:i}=e),r=!1,s(this.mae,a,e=>{var a;if(null!=(a=i[e.id]))return this.model.delete(a.item),delete i[e.id],r=!0}),null!=r)return this.clear_cache()}reset(e,a,i){var r,t,n,c,l;({_memory:r}=e),e._memory=n=o(),this.merge(e,a,i),l=[];for(t in r)c=r[t],null==n[t]?l.push(this.model.delete(c)):l.push(void 0);return l}merge(e,a,i){var r;return({_memory:r}=e),s(this.name,a,a=>{var t,o;return t=this.map.$deploy(this.model,this.format,e,a,i),o=r[a.id],r[a.id]=t,null!=o?this.model.update(a,o.item):(this.model.create(a),this.model.rowid++)}),this.clear_cache()}}},function(e,a,i){i(0),e.exports=function(){class e{static bless(e){return e.__proto__=this.prototype,e}static $deploy(e,a){var i,r,t;for(this.bless(e),Object.assign(e,a),i=0,r=(t=this.$name.deploys).length;i<r;i++)t[i].call(e,this);if(!e.id)throw new Error(`detect bad data: ${JSON.stringify(e)}`)}static update(e,a){}static create(e){}static delete(e){}static map_reduce(e,a){}static order(e,a){}}return e.rowid=0,e.aggregate=[function(e,a){}],e}.call(this)},function(e,a,i){var r,t,o,n,c,l;r=i(0),i(1),i(3),l=function(e,a){return this.all._finder.reset(this.all,e,a)},n=function(e,a){return this.all._finder.merge(this.all,e,a)},c=function(e){return this.all._finder.remove(this.all,e)},o=function(e){return function(a,i){if(null!=a)return e.call(this,[a],i)}},t=function(){return this.all._finder.clear_cach(this.all)},e.exports=function(){class e extends Array{static $deploy(e,a,i,r){}static bless(e){return e.__proto__=this.prototype,e}static find(e){return _memory[e].item}static form(e){var a;return null!=(a=_memory[e]).form?a.form:a.form=function(){return r.cloneDeep(this.find(e)).__proto__=Form.prototype}()}sort(...e){var a;return(a=r.orderBy(this,...e)).__proto__=this.__proto__,a}group_by(e){var a,i;i=r.groupBy(this,e);for(a in i)i[a].__proto__=this.__proto__;return i}page_by(e){var a;return a=0,Object.values(this.group_by(function(i){return Math.floor(a++/e)}))}where(e){return this.query.where(e)}in(e){return this.query.in(e)}update(e,a){}create(e){}delete(e){}}return e.prototype.set=l,e.prototype.reset=l,e.prototype.merge=n,e.prototype.add=o(n),e.prototype.append=o(n),e.prototype.reject=c,e.prototype.del=o(c),e.prototype.remove=o(c),e.prototype.clear_cache=t,e.prototype.refresh=t,e.prototype.rehash=t,e}.call(this)},function(e,a,i){var r,t,o,n=[].splice,c=[].indexOf;t=i(0),({Query:r}=i(1)),o={map:function(e){var a,i,r,t,o,n,c;for(c=[],this,i=0,o=this.length;i<o;i++)if(a=this[i])for(t=0,n=a.length;t<n;t++)r=a[t],c.push(e(r));return c}},e.exports=class{static bless(e){return e.__proto__=this.prototype,e}static $deploy(e,a,i,r,t){var o,c;return c={item:r,$group:[]},e.$deploy(r,t),(o=((...e)=>{var i,r,t,o;return o=e,[...e]=o,[i]=n.call(e,-1),t=["_reduce",...e].join("."),c.$group.push([t,i]),r=null!=a[t]?a[t]:a[t]={},this.init(r,i)}))({list:r,set:r.id}),e.map_reduce(r,o),(o=function(...e){var a,r,t;return t=e,[...e]=t,[a]=n.call(e,-1),r=["_reduce",...e].join("."),i.$sort[r]=a})("list",{}),e.order(r,o),c}static init(e,a){if(a.id&&(e.id=a.id),a.list&&(e.list=[]),a.count&&(e.count=0),a.all&&(e.all=0),a.set)return e.hash={}}static order(e,a,i){var n,l,s,d,_,u,m,f,h,g,p,b,j;if(p=e,Object===e.constructor)if(a.belongs_to)for(_ in e)e[_].__proto__=r[a.belongs_to].find(_);else for(_ in e)e[_].id=_;else a.belongs_to&&(p=e.map(function(e){return r[a.belongs_to].find(e.id)}));if(a.sort&&(p=t.orderBy(p,...a.sort)),a.pluck&&(p=p.map(function(e){return t.get(e,a.pluck)})),j=a.page_by)for(u=0,e=p,(s=Object.values(t.groupBy(p,function(e){return Math.floor(u++/j)}))).all=u,(p=s).page_idx=function(e){var a,i,r,t;for(this,t=i=0,r=this.length;i<r;t=++i)if(a=this[t],c.call(a,e)>=0)return t;return null},Object.assign(p,o),p.__proto__=i.prototype,d=0,h=p.length;d<h;d++)(n=p[d])&&(n.__proto__=i.prototype);if(a.index){l=[];for(f in p)b=p[f],null==l[u=t.get(b,a.index)]&&(l[u]=[]),l[u].push(b);for(p=l,Object.assign(p,o),p.__proto__=i.prototype,m=0,g=p.length;m<g;m++)(n=p[m])&&(n.__proto__=i.prototype)}return p.from=e,p.__proto__=i.prototype,p}static finish(e,a,i){if(e.hash&&(e.set=Object.keys(e.hash)),e.count&&null!=e.pow&&(e.avg=Math.pow(e.all,1/e.count)),e.count&&null!=e.all&&(e.avg=e.all*(1/e.count)),null!=e.min&&null!=e.max&&(e.range=e.max-e.min,e.all))return e.density=e.all/e.range}static reduce(e,a,i){if(i.count&&(a.count+=i.count),i.all&&(a.all+=i.all),i.pow&&(a.pow*=i.pow),i.list&&a.list.push(i.list),i.set&&(a.hash[i.set]=e),i.max&&(i.max<=a.max||(a.max_is=e,a.max=i.max)),i.min&&!(a.min<=i.min))return a.min_is=e,a.min=i.min}}},function(e,a){e.exports=require("mongoose")},function(e,a){e.exports=require("express")},function(e,a,i){var r;r=i(14),e.exports=function(e,a){return e.use(r.json()),e.use(function(e,a,i){return a.header("Access-Control-Allow-Origin","*"),a.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),i()})}},function(e,a){e.exports=require("body-parser")},function(e,a,i){var r,t;t=i(16),r=i(17)(t),e.exports=function(e,{session_key:a,db:i}){return e.use(t({secret:a,resave:!1,saveUninitialized:!1,store:new r({url:i.mongo,ttl:604800,autoRemove:"native",collection:"sessions",touchAfter:86400,stringify:!1}),cookie:{maxAge:6048e5}}))}},function(e,a){e.exports=require("express-session")},function(e,a){e.exports=require("connect-mongo")},function(e,a,i){var r,t;(t=i(11)).Promise=global.Promise,r=[i(19),i(46)],e.exports=function(e,a){var i,o;if(a.db.mongo)for(t.connect(a.db.mongo,{useMongoClient:!0,config:{autoIndex:!1}},function(e){if(e)return console.log(`no ${a.db.mongo}. disabled (passport, session)`)}),i=0,o=r.length;i<o;i++)(0,r[i])(e,t,a)}},function(e,a,i){var r,t,o,n,c,l,s,d,_,u,m,f;({YAML:l,API:r}=i(5)),({nation:_,village:m}=l("yaml/rule.yml")),({Model:t,Set:c,Query:o,Rule:n}=i(2)),i(22),i(27),i(31),u=function(){var e,a,i,r;for(i=_.list,r=[],d=e=0,a=i.length;e<a;d=++e)({head:s}=i[d]),r.push(`${d+1}. ${s}`);return r}(),f=function(){var e,a,i,r;for(i=m.list,r=[],d=e=0,a=i.length;e<a;d=++e)({head:s}=i[d]),r.push(`${d+1}. ${s}`);return r}(),e.exports=function(e,a,{game:{folder_id:i}}){var t,n,c,l,_,m,h,g,p,b,j,A,y,E,S,T,w,v,M,k,R,O,I,Y,x,L,$;return({Schema:g}=a),n=a.model("Card",new g({write_at:Number,book_id:{type:String,index:!0},part_id:String,role_id:String,idx:String,_id:String},{versionKey:!1})),p=a.model("Stat",new g({write_at:Number,book_id:{type:String,index:!0},role_id:String,idx:String,_id:String,sw:Boolean,give:Number},{versionKey:!1})),h=a.model("Potof",new g({write_at:Number,open_at:Number,book_id:{type:String,index:!0},passport_id:String,face_id:String,idx:String,_id:String,sign:String,job:String},{versionKey:!1})),l=a.model("IdxCount",new g({idx:Number,_id:String},{versionKey:!1})),t=a.model("Book",new g({write_at:Number,open_at:Number,passport_id:String,folder_id:String,idx:String,_id:String,chat:{limit:String,next_at:String,password:String,interval:String,night:String,player:Number,mob:Number},game:{vote:String,vote_by:[String]},tag_ids:[String],option:[String],label:String},{versionKey:!1})),_=a.model("Part",new g({write_at:Number,open_at:Number,book_id:{type:String,index:!0},idx:String,_id:String,label:String},{versionKey:!1})),m=a.model("Phase",new g({write_at:Number,book_id:{type:String,index:!0},idx:String,_id:String,label:String,handle:String,group:String,update:!1},{versionKey:!1})),c=a.model("Chat",new g({write_at:Number,book_id:{type:String,index:!0},potof_id:{type:String,index:!0},phase_handle:{type:String,index:!0},idx:String,_id:String,head:String,to:String,show:String,deco:String,log:String},{versionKey:!1})),T=function({user:e}){if(null==(null!=e?e.sign:void 0))throw new Error("ログインしてください。")},S=function({user:e,potof:a}){if("NPC"!==(null!=a?a.idx:void 0))throw new Error("ログインしてください。")},R=async function(e,a){var i;return i=new Date-0,null==a.open_at&&(a.open_at=i),Object.assign(a,{write_at:i}),a._id||console.log(a),(a=await e.findByIdAndUpdate(a._id,a,{new:!0,upsert:!0})).passport_id=void 0,a},A=async function(e,a,i){return({idx:d}=await l.findByIdAndUpdate(e,{$inc:{idx:1}},{new:!0,upsert:!0})),e=`${e}-${d}`,Object.assign(i,{idx:d,_id:e}),R(a,i)},function({label:e}){return require_uniq(t,_id,{label:e,folder_id:i})},b=function(e){return A(i,t,e)},E=function(e,a){return A(e,h,a)},function(e,a){return A(e,_,a)},y=function(e,a){return A(e,m,a)},j=function(e,a){return A(e,c,a)},L=function(e){return R(h,e)},$=function(e){return R(p,e)},w=function(e){return R(t,e)},O=function(e){return R(_,e)},I=function(e){return R(m,e)},v=function(e){return R(c,e)},M=function(e,a=0){var i;return[v({_id:`${s=`${e}-${a}`}-BM-welcome`,idx:"welcome",book_id:e,potof_id:i=`${e}-NPC`,deco:"giji",show:"report",log:"（この村をみんなに紹介しよう）"}),v({_id:`${s}-BM-nrule`,idx:"nrule",book_id:e,potof_id:i,deco:"giji",show:"report",log:u.join("\n")}),v({_id:`${s}-BM-vrule`,idx:"vrule",book_id:e,potof_id:i,deco:"giji",show:"report",log:f.join("\n")})]},k=function(e,a,i){var r,t,n,c;return t=null!=(r=o.faces.find(i))&&null!=(n=r.npc)&&null!=(c=n.say)?c[a]:void 0,[v({_id:`${s=`${e}-${a}`}-SS-0`,idx:"0",book_id:e,potof_id:`${e}-NPC`,deco:"giji",show:"talk",log:null!=t?t:"＠＠＠"})]},Y=function(e,a=0){return[I({_id:`${s=`${e}-${a}`}-BM`,idx:"BM",label:"情報",handle:"MAKER",update:!0}),I({_id:`${s}-MM`,idx:"MM",label:"情報",handle:"SSAY",update:!0})]},x=function(e,a){return[I({_id:`${s=`${e}-${a}`}-TM`,idx:"TM",label:"情報",handle:"private",update:!1}),I({_id:`${s}-SM`,idx:"SM",label:"情報",handle:"public",update:!1}),I({_id:`${s}-TS`,idx:"TS",label:"独り言",handle:"TSAY",update:!1}),I({_id:`${s}-Aim`,idx:"Aim",label:"内緒話",handle:"AIM",update:!1}),I({_id:`${s}-SS`,idx:"SS",label:"会話",handle:"SSAY",update:!1}),I({_id:`${s}-VS`,idx:"VS",label:"会話",handle:"VSAY",update:!1})]},e.get("/api/books",r(async function({query:{self:e},session:{passport:a}}){return{books:e?await t.find({passport_id:a.user._id}):await t.find({_id:RegExp(`^${i}-`)})}})),e.get("/api/books/:book_id",r(async function({params:{book_id:e},query:{write_at:a},session:{passport:i}}){var r,o,c,l,s,d,u,f,g,b;for(r={$regex:RegExp(`^${e}-`)},[o,g,b,c,d,u]=await Promise.all([t.findById(e),h.find({_id:r}),p.find({_id:r}),n.find({_id:r}),_.find({_id:r}),m.find({_id:r})]),l=0,s=g.length;l<s;l++)(f=g[l]).passport_id===i.user._id&&(i.potof=f);return{book:o,potofs:g,stats:b,cards:c,parts:d,phases:u}})),e.get("/api/books/:book_id/chats",r(async function({params:{book_id:e},query:{write_at:a},session:{passport:i}}){var r,t,o,n;return r={$regex:RegExp(`^${e}-\\d+-[BSV].-`)},o=null!=(null!=i?i.potof:void 0)?(n={$in:[i.potof._id]},c.find({_id:{$regex:RegExp(`^${e}-`)},$or:[{potof_id:n},{_id:r}]})):c.find({_id:r}),[t]=await Promise.all([o]),{chats:t}})),e.post("/api/books",r(async function({body:{book:e,potof:a},session:{passport:i}}){var r,t,o,n,c;return T(i),e.passport_id=i.user._id,e=({_id:r}=await b(e)),o=`${r}-NPC`,[a,n,c,t]=await Promise.all([L({_id:o,idx:"NPC",face_id:a.face_id,book_id:r,passport_id:i.user._id,sign:i.user.sign,job:a.job}),O({_id:`${r}-0`,idx:"0",label:"プロローグ"}),Promise.all([...Y(r,0),...x(r,0)]),Promise.all([...M(r,0),...k(r,0,a.face_id)])]),i.potof=a,{book:e,potof:a,part:n,phases:c,chats:t}})),e.post("/api/books/:book_id",r(async function({params:{book_id:e},body:{book:a,potof:i},session:{passport:r}}){var t,o,n,c;return T(r),S(r),a._id=e,a=({_id:t,passport_id:n}=await w(a)),`${t}-NPC`,Object.assign(i,{_id:`${t}-NPC`,idx:"NPC",sign:r.user.sign,passport_id:r.user._id}),[i,c,o]=await Promise.all([L(i),Promise.all(Y(t,0)),Promise.all([...M(t,0),...k(t,0,i.face_id)])]),{book:a,potof:i,phases:c,chats:o}})),e.post("/api/books/:book_id/part",r(async function({params:{book_id:e},body:{part:a},session:{passport:i}}){var r,t,o;return T(i),S(i),({potof:o}=i),[a,t,r]=await Promise.all([O(a),Promise.all(x(e,a.idx)),Promise.all(k(e,a.idx,o.face_id))]),{part:a,phases:t,chats:r}})),e.post("/api/books/:book_id/phase",r(async function({params:{book_id:e},body:{phase:a},session:{passport:i}}){var r;return T(i),({_id:r}=await y(e,a))})),e.post("/api/books/:book_id/potof",r(async function({params:{book_id:e},body:{potof:a,phase_id:i},session:{passport:r}}){var t,o,n,c;return T(r),a=({_id:t}=await E(e,a)),[c,o,n]=await Promise.all([$({_id:`${t}-SSAY`,idx:"SSAY",sw:!1,give:0}),up_card({_id:`${t}-request`,idx:"request",role_id:null}),j(i,{sign:a.sign})]),{potof:a,stat:c,card:o,chat:n}})),e.delete("/api/book/:book_id",r(async function({params:{book_id:e},session:{passport:{user:a}}}){return{book:await del_book(e)}})),e.delete("/api/potof/:potof_id",r(async function({params:{potof_id:e},session:{passport:{user:a}}}){return{potof:await del_potof(e)}})),e.post("/api/gm/muster",r(async function({session:{passport:{user:e}}}){return{args:await Promise.all([])}})),e.put("/api/potof/:book_id",r(function({params:{book_id:e},body:{potof:a},session:{passport:{user:i}}}){})),e.put("/api/card",r(function({body:{card:e},session:{passport:{user:a}}}){})),e.post("/api/gm/scrap",r(async function({session:{passport:{user:e}}}){return{args:await Promise.all([])}}))}},function(e,a){e.exports=require("js-yaml")},function(e,a,i){var r,t,o,n,c,l,s,d,_=[].indexOf;s=i(0),o=i(1),r=i(7),c=i(3),n=i(8),l=i(9),t=i(10),d=function(e){var a,i,r,t,n,c;return e=e.replace(/s$/,""),(c=o.Name[e])?c:(r=`${e}_id`,t=`${e}_ids`,n=`${e}s`,i=[],a=[],o.Name[n]=o.Name[e]={id:r,ids:t,list:n,base:e,deploys:i,depends:a})},e.exports=class{constructor(e,a){this.$name=d(e),this.model=n,this.set=l,this.map=t,this.all=c.build(),this.all.cache={},this.all._finder=new r(this.$name),this.depend_on(e),this.map_property={},this.model_property={$form:{enumerable:!1,get:function(){return o.Set[this.$name.base].form(this.id)}},id:{enumerable:!0,get:function(){return this._id}},[`${this.$name.id}`]:{enumerable:!0,get:function(){return this._id}}},this.form_property={$model:{enumerable:!1,get:function(){return o.Set[this.$name.base].find(this.id)}},changes:{enumerable:!0,value:function(e){return s.isEqual(this[e],this.find[e])?null:this.$model[e]}},isChanged:{enumerable:!0,get:function(){var e,a,i,r;for(e=0,r=(i=Object.keys(this)).length;e<r;e++)if(a=i[e],!s.isEqual(this[a],this.$model[a]))return!0;return!1}}},this.set_property={first:{enumerable:!1,get:function(){return this[0]}},head:{enumerable:!1,get:function(){return this[0]}},tail:{enumerable:!1,get:function(){return this[this.length-1]}},last:{enumerable:!1,get:function(){return this[this.length-1]}},uniq:{enumerable:!1,get:function(){return this.constructor.bless(s.uniq(this))}},pluck:{enumerable:!1,value:function(...e){return a=function(){switch(e.length){case 0:return function(){return null};case 1:return s.property(e[0]);default:return function(a){return s.at(a,...e)}}}(),this.constructor.bless(this.map(a))}}},a&&this.schema(a)}schema(e){var a,i;return e.call(this),this.model===n&&(this.model=class extends this.model{}),Object.defineProperties(this.model.prototype,this.model_property),this.form=class extends this.model{},Object.defineProperties(this.form.prototype,this.form_property),this.set===l&&(this.set=class extends this.set{}),Object.defineProperties(this.set.prototype,this.set_property),this.map===t&&(this.map=class extends this.map{}),Object.defineProperties(this.map.prototype,this.map_property),this.model.$name=this.form.$name=this.set.$name=this.map.$name=this.$name,o.Query[this.$name.list]=this.all,o.Set[this.$name.base]=i=this.set.bless([]),i.all=this.all,i.$name=this.$name,o.Finder[this.$name.base]=a=this.all._finder,a.set=this.set,a.map=this.map,a.form=this.form,a.model=this.model,a.format={},this}key_by(e){var a;return a=function(){switch(null!=e?e.constructor:void 0){case void 0:return function(e){return e};case Function:return e;case String:case Array:return s.property(e);default:throw Error(`unimplemented ${e}`)}}(),this.model_property.id={enumerable:!0,get:a}}deploy(e){return o.set_deploy(this.$name.base,e)}depend_on(e){var a;return({all:a}=this),o.set_depend(e,function(){return a._finder.clear_cache(a)})}scope(e){var a,i,r,t;i=e(this.all),r=[];for(a in i)t=i[a],r.push(this.use_cache(a,t));return r}default_scope(e){return this.all._copy(e(this.all))}shuffle(){return this.default_scope(function(e){return e.shuffle()})}order(...e){return this.default_scope(function(a){return a.sort(...e)})}relation_to_one(e,a,i,r){return this.model_property[e]={enumerable:!0,get:function(){var e;return e=s.get(this,i),o.Query[a].find(e,r)}}}relation_to_many(e,a,i,r,t){var n;return n=this.all,this.use_cache(e,function(e){return o.Query[a][i]({[`${t}`]:e})}),this.model_property[e]={enumerable:!0,get:function(){return n[e](this[r])}}}relation_tree(e,a){var i;return i=this.all,this.use_cache(e,function(r,t){var o;return t?(o=i.where({[`${a}`]:r}),i[e](o.ids,t-1)):i.where({_id:r})}),this.model_property[e]={enumerable:!0,value:function(a){return i[e]([this._id],a)}}}relation_graph(e,a){var i;return i=this.all,this.use_cache(e,function(r,t){var o,n,c,l,d,_,u,m,f;if(m=i.where({_id:r}),t){for(o=[],c=0,_=(f=m.pluck(a)).length;c<_;c++)if(null!=(n=f[c]))for(l=0,u=n.length;l<u;l++)null!=(d=n[l])&&o.push(d);return i[e](s.uniq(o),t-1)}return m}),this.model_property[e]={enumerable:!0,value:function(a){return i[e]([this._id],a)}}}use_cache(e,a){switch(null!=a?a.constructor:void 0){case Function:return this.all[e]=((...i)=>{var r,t;return null!=(r=this.all.cache)[t=`${e}:${JSON.stringify(i)}`]?r[t]:r[t]=a(...i)});default:return this.all[e]=a}}path(...e){var a,i,r,t,o;for(i=0,t=e.length;i<t;i++)r=e[i],this.belongs_to(r);return this.deploy(function(){var a,i,t,o,n;for(n=this._id.split("-"),this.idx=n[e.length],o=[],a=i=0,t=e.length;i<t;a=++i)r=e[a],o.push(this[`${r}_id`]=n.slice(0,+a+1||9e9).join("-"));return o}),({all:a}=this),o=e.slice(-1)[0]+"_id",this.model_property.siblings={get:function(){var e;return(e={})[o]=this[o],a.where(e)}}}belongs_to(e,a={}){var i,r,t,o;return t=d(e),({key:i=t.id,target:o=t.list,miss:r}=a),this.relation_to_one(t.base,o,i,r)}habtm(e,a={}){var i,r,t;return r=d(e),a.reverse?(({key:i=this.$name.ids,target:t=e}=a),this.relation_to_many(r.list,t,"in","_id",i)):(({key:i=r.ids,target:t=r.list}=a),this.relation_to_many(r.list,t,"where",i,"_id"))}has_many(e,a={}){var i,r,t;return r=d(e),({key:i=this.$name.id,target:t=r.list}=a),this.relation_to_many(r.list,t,"where","_id",i)}tree(e={}){var a;return a=this.$name.id,this.relation_tree("nodes",a),this.belongs_to(this.$name.base,e),Object.defineProperties(this.all,{leaf:{get:function(){var e;return e=s.uniq(this.pluck(a)),this.where(function(a){var i;return i=a._id,_.call(e,i)<0})}}})}graph(e={}){var a,i,r;if(({directed:i,cost:a}=e),r=this.$name.ids,this.relation_to_many(this.$name.list,this.$name.list,"where",r,"_id"),this.relation_graph("path",r),!i)return!0}}},function(e,a,i){var r,t,o,n;({Model:r,Query:t,Rule:o,Set:n}=i(2)),new o("book").schema(function(){return this.order("write_at"),this.path("folder"),this.has_many("parts"),this.has_many("phases"),this.has_many("sections"),this.has_many("chats"),this.has_many("potofs"),this.belongs_to("winner"),Object.assign(this.model_property,{head:{get:function(){return`${this.idx}: ${this.label}`}}}),this.scope(function(e){return{}})}),new o("winner").schema(function(){return this.scope(function(e){})}),new o("option").schema(function(){return this.scope(function(e){})}),new o("say").schema(function(){return this.scope(function(e){return{active:e.in({for:env.game.folder_id})}}),this.deploy(function(){return null!=this.for?this.for:this.for=[]})}),new o("game").schema(function(){return this.scope(function(e){})}),n.option.set(i(23)),n.winner.set(i(24)),n.say.set(i(25)),n.game.set(i(26))},function(e,a){e.exports={"select-role":{label:"役職希望",help:"役職希望を受け付ける"},"random-target":{label:"ランダム",help:"投票・能力の対象に「ランダム」を含める"},"seq-event":{label:"整列事件",help:"事件が順序どおりに発生する"},"show-id":{label:"ID公開",help:"ユーザーIDを公開する"},entrust:{label:"委任投票",help:"委任投票をする"},"undead-talk":{label:"死後の会話",help:"狼・妖精と死者との間で、会話ができる"},"aiming-talk":{label:"内緒話",help:"ふたりだけの内緒話をすることができる"}}},function(e,a){e.exports={HUMAN:{label:"村人陣営",group:"村人陣営",order:1,help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Text)WIN_HUMAN" TARGET="_blank">村人陣営</A></b>\n<br>\n人間(妖精や人外の者を除く)の数が人狼以下になるまでに人狼と妖精が全滅すれば勝利です。\n<br>\nただし、狼を全滅させた時点で妖精、もしくは恋人が生き残っていると敗北になり、他にも横から勝利を掻っ攫うもの達が存在します。'},EVIL:{label:"裏切りの陣営",group:"敵側の人間",label_human:"敵側の人間",order:2,help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Text)WIN_EVIL" TARGET="_blank">裏切りの陣営</A></b>\n<br>\n村人・恋人が敗北すれば勝利者の一員に加わります。\n<br>\nあなたは破滅を望んでいるのです。人狼や妖精やそれ以外の勝利、または、誰もいなくなることを目指しましょう。'},WOLF:{label:"人狼陣営",group:"人狼陣営",label_human:"人狼陣営の人間",order:3,help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Text)WIN_WOLF" TARGET="_blank">人狼陣営</A></b>\n<br>\nルール「タブラの人狼」「死んだら負け」「Trouble☆Aliens」では人間(妖精や人外の者を除く)の数を人狼と同数以下まで減らせば、ルール「ミラーズホロウ」「深い霧の夜」では役職「村人」を全滅させれば勝利です。\n<br>\nただし、最後まで妖精、もしくは恋人が生き残っていると敗北になり、他にも横から勝利を掻っ攫うもの達が存在します。'},LONEWOLF:{label:"一匹狼",group:"その他",order:4,help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Text)WIN_LONEWOLF" TARGET="_blank">一匹狼陣営</A></b>\n<br>\nルール「タブラの人狼」「死んだら負け」「Trouble☆Aliens」では人間(妖精や人外の者を除く)の数を一匹狼と同数以下まで減らせば、ルール「ミラーズホロウ」「深い霧の夜」では役職「村人」を全滅させ、かつ、人狼陣営の狼が生きていなければ勝利です。\n<br>\nただし、最後まで妖精、もしくは恋人が生き残っていると敗北になり、他にも勝利を掻っ攫うもの達が存在します。'},PIXI:{label:"妖精",group:"妖精",order:5,help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Text)WIN_PIXI" TARGET="_blank">妖精陣営</A></b>\n<br>\n人狼が全滅するか、人間(妖精や人外の者を除く)の数が人狼と同数以下まで減るまで「生き残れば」勝利です。\n<br>\nただし、恋人が生き残っていると敗北になり、他にも横から勝利を掻っ攫うもの達が存在します。'},OTHER:{label:"その他",group:"その他",order:6},GURU:{label:"笛吹き",group:"その他",order:7,help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Text)WIN_GURU" TARGET="_blank">笛吹き</A></b>\n<br>\n笛吹き以外の生存者が勧誘された者だけになれば勝利となります。笛吹き自身は、最終的に生き残っていなくとも構いません。\n<br>\nただし、横から勝利を掻っ攫うもの達が存在します。'},LOVER:{label:"恋人陣営",group:"その他",order:8,help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Text)WIN_LOVER" TARGET="_blank">恋人陣営</A></b>\n<br>\n恋人達だけが生き残る、もしくはいずこかの陣営が勝利を手にしたとき、絆の恋人達が生存していれば勝利です。\n<br>\nただし、ひとりだけ蘇生したなどの不幸で、恋を成就できない恋人は、勝利しません。'},HATER:{label:"邪気陣営",group:"その他",order:9,help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Text)WIN_HATER" TARGET="_blank">邪気陣営</A></b>\n<br>\nいずこかの陣営が勝利を手にしたとき、運命に決着をつけていれば勝利します。決着とは、絆の天敵をすべて倒し、一人だけが生き残っていることです。\n殺し合いの絆を断ち切りましょう。絆の相手が死んでも、後を追うことはありません。\n<br>\n絆の天敵とは、たとえあなた自身には関係のなくとも、あらゆる絆を結んでいるもの全てを指します。'},DISH:{label:"据え膳",group:"その他",order:10,help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Text)WIN_DISH" TARGET="_blank">据え膳</A></b>\n<br>\nすべてに決着がついたとき、あなたが狼の襲撃、もしくは賞金稼の道連れにより死亡していれば、勝利者の一員に加わります。'},NONE:{label:"―",group:"その他",order:98,help:"あなたは勝負を眺めています。勝利したり、敗北したりといったことはありません。"},MOB:{label:"見物人",group:"その他",order:99,help:'あなたは<b>_ROLE_の<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_MOB" TARGET="_blank">見物人</A></b>です。いかなる陣営の人数にも含まれません。'},LEAVE:{label:"―",group:"その他",order:100,help:"あなたは村を去りました。勝利したり、敗北したりといったことは、もうありません。"}}},function(e,a){e.exports={sow:{CAPTION:"人狼議事",disabled:!0},say5:{CAPTION:"寡黙への挑戦",COST_SAY:"count",COST_MEMO:"none",COST_ACT:"count",RECOVERY:1,MAX_SAY:5,MAX_TSAY:5,MAX_SPSAY:5,MAX_WSAY:10,MAX_GSAY:10,MAX_PSAY:10,MAX_ESAY:999,MAX_SAY_ACT:5,ADD_SAY:0,MAX_ADDSAY:0,MAX_MESLINE:10},point:{COST_SAY:"point",COST_MEMO:"count",COST_ACT:"count",MAX_ESAY:9999},count:{COST_SAY:"count",COST_MEMO:"count",COST_ACT:"count",ADD_SAY:0,MAX_ADDSAY:0},lobby:{CAPTION:"ロビー",HELP:"∞pt/∞act",COST_SAY:"none",COST_MEMO:"none",COST_ACT:"none",RECOVERY:1,MAX_SAY:9999,MAX_TSAY:9999,MAX_SPSAY:9999,MAX_WSAY:9999,MAX_GSAY:9999,MAX_PSAY:9999,MAX_ESAY:9999,MAX_SAY_ACT:99,ADD_SAY:9999,MAX_ADDSAY:0,MAX_MESCNT:1e3,MAX_MESLINE:20},say1:{CAPTION:"静寂への挑戦",COST_SAY:"count",COST_MEMO:"none",COST_ACT:"count",RECOVERY:1,MAX_SAY:1,MAX_TSAY:5,MAX_SPSAY:5,MAX_WSAY:10,MAX_GSAY:10,MAX_PSAY:10,MAX_ESAY:999,MAX_SAY_ACT:5,ADD_SAY:0,MAX_ADDSAY:0,MAX_MESLINE:10,HELP:"（24h回復） 300字x1回/1act'",MAX_MESCNT:300},say5x200:{CAPTION:"寡黙への挑戦",COST_SAY:"count",COST_MEMO:"none",COST_ACT:"count",RECOVERY:1,MAX_SAY:5,MAX_TSAY:5,MAX_SPSAY:5,MAX_WSAY:10,MAX_GSAY:10,MAX_PSAY:10,MAX_ESAY:999,MAX_SAY_ACT:5,ADD_SAY:0,MAX_ADDSAY:0,MAX_MESLINE:10,HELP:"（24h回復） 200字x5回/5act'",MAX_MESCNT:200},say5x300:{CAPTION:"小論文への挑戦",COST_SAY:"count",COST_MEMO:"none",COST_ACT:"count",RECOVERY:1,MAX_SAY:5,MAX_TSAY:5,MAX_SPSAY:5,MAX_WSAY:10,MAX_GSAY:10,MAX_PSAY:10,MAX_ESAY:999,MAX_SAY_ACT:5,ADD_SAY:0,MAX_ADDSAY:0,MAX_MESLINE:10,HELP:"（24h回復） 300字x5回/15act'",MAX_MESCNT:300},saving:{COST_SAY:"count",COST_MEMO:"count",COST_ACT:"count",ADD_SAY:0,MAX_ADDSAY:0,CAPTION:"節約",HELP:"250字x20回/15act",RECOVERY:0,MAX_SAY:20,MAX_TSAY:10,MAX_SPSAY:10,MAX_WSAY:30,MAX_GSAY:20,MAX_PSAY:20,MAX_ESAY:999,MAX_SAY_ACT:15,MAX_MESCNT:250,MAX_MESLINE:10},wbbs:{COST_SAY:"count",COST_MEMO:"none",COST_ACT:"count",ADD_SAY:0,MAX_ADDSAY:0,CAPTION:"人狼BBS",HELP:"200字x20回",RECOVERY:0,MAX_SAY:20,MAX_TSAY:5,MAX_SPSAY:20,MAX_WSAY:40,MAX_GSAY:20,MAX_PSAY:20,MAX_ESAY:999,MAX_SAY_ACT:0,MAX_MESCNT:200,MAX_MESLINE:5},euro:{COST_SAY:"count",COST_MEMO:"count",COST_ACT:"count",ADD_SAY:0,MAX_ADDSAY:0,CAPTION:"欧州",HELP:"（24h回復） 800字x30回/30act",RECOVERY:1,MAX_SAY:30,MAX_TSAY:999,MAX_SPSAY:999,MAX_WSAY:999,MAX_GSAY:999,MAX_PSAY:30,MAX_ESAY:999,MAX_SAY_ACT:30,MAX_MESCNT:800,MAX_MESLINE:20},tiny:{COST_SAY:"point",COST_MEMO:"point",COST_ACT:"count",MAX_ESAY:9999,CAPTION:"たりない",HELP:"（24h回復）（メモは20pt） 333pt/9act",RECOVERY:1,MAX_SAY:333,MAX_TSAY:999,MAX_SPSAY:333,MAX_WSAY:999,MAX_GSAY:999,MAX_PSAY:999,MAX_SAY_ACT:9,ADD_SAY:0,MAX_ADDSAY:0,MAX_MESCNT:300,MAX_MESLINE:10},weak:{COST_SAY:"point",COST_MEMO:"point",COST_ACT:"count",MAX_ESAY:9999,CAPTION:"むりせず",HELP:"（24h回復）（メモは20pt） 777pt/15act",RECOVERY:1,MAX_SAY:777,MAX_TSAY:777,MAX_SPSAY:777,MAX_WSAY:999,MAX_GSAY:999,MAX_PSAY:1200,MAX_SAY_ACT:15,ADD_SAY:0,MAX_ADDSAY:0,MAX_MESCNT:600,MAX_MESLINE:15},juna:{COST_SAY:"point",COST_MEMO:"count",COST_ACT:"count",MAX_ESAY:9999,CAPTION:"しんもん",HELP:"（24h回復） 1200pt/24act",RECOVERY:1,MAX_SAY:1200,MAX_TSAY:700,MAX_SPSAY:700,MAX_WSAY:3e3,MAX_GSAY:2e3,MAX_PSAY:2e3,MAX_SAY_ACT:24,ADD_SAY:0,MAX_ADDSAY:0,MAX_MESCNT:1e3,MAX_MESLINE:20},vulcan:{COST_SAY:"point",COST_MEMO:"count",COST_ACT:"count",MAX_ESAY:9999,CAPTION:"いっぱい",HELP:"（24h回復） 1000pt+++300pt/36act",RECOVERY:1,MAX_SAY:1e3,MAX_TSAY:1e3,MAX_SPSAY:1500,MAX_WSAY:4e3,MAX_GSAY:3e3,MAX_PSAY:3e3,MAX_SAY_ACT:36,ADD_SAY:300,MAX_ADDSAY:3,MAX_MESCNT:1e3,MAX_MESLINE:20},infinity:{CAPTION:"むげん",HELP:"∞pt/∞act",COST_SAY:"none",COST_MEMO:"none",COST_ACT:"none",RECOVERY:1,MAX_SAY:9999,MAX_TSAY:9999,MAX_SPSAY:9999,MAX_WSAY:9999,MAX_GSAY:9999,MAX_PSAY:9999,MAX_ESAY:9999,MAX_SAY_ACT:99,ADD_SAY:9999,MAX_ADDSAY:0,MAX_MESCNT:1e3,MAX_MESLINE:20,for:["beta"]},weak_braid:{COST_SAY:"point",COST_MEMO:"point",COST_ACT:"count",MAX_ESAY:9999,CAPTION:"むりせず",HELP:"（24h回復）（メモは20pt） 600pt++100pt/15act",RECOVERY:1,MAX_SAY:600,MAX_TSAY:600,MAX_SPSAY:600,MAX_WSAY:999,MAX_GSAY:999,MAX_PSAY:1200,MAX_SAY_ACT:15,ADD_SAY:100,MAX_ADDSAY:2,MAX_MESCNT:600,MAX_MESLINE:15},juna_braid:{COST_SAY:"point",COST_MEMO:"count",COST_ACT:"count",MAX_ESAY:9999,CAPTION:"しんもん",HELP:"（24h回復） 800pt++200pt/24act",RECOVERY:1,MAX_SAY:800,MAX_TSAY:700,MAX_SPSAY:700,MAX_WSAY:3e3,MAX_GSAY:2e3,MAX_PSAY:2e3,MAX_SAY_ACT:24,ADD_SAY:200,MAX_ADDSAY:2,MAX_MESCNT:1e3,MAX_MESLINE:20},vulcan_braid:{COST_SAY:"point",COST_MEMO:"count",COST_ACT:"count",MAX_ESAY:9999,CAPTION:"いっぱい",HELP:"（24h回復） 1000pt+++300pt/36act",RECOVERY:1,MAX_SAY:1e3,MAX_TSAY:1e3,MAX_SPSAY:1500,MAX_WSAY:4e3,MAX_GSAY:3e3,MAX_PSAY:3e3,MAX_SAY_ACT:36,ADD_SAY:300,MAX_ADDSAY:3,MAX_MESCNT:1e3,MAX_MESLINE:20},infinity_braid:{CAPTION:"むげん",HELP:"∞pt/∞act",COST_SAY:"none",COST_MEMO:"none",COST_ACT:"none",RECOVERY:1,MAX_SAY:9999,MAX_TSAY:9999,MAX_SPSAY:9999,MAX_WSAY:9999,MAX_GSAY:9999,MAX_PSAY:9999,MAX_ESAY:9999,MAX_SAY_ACT:99,ADD_SAY:9999,MAX_ADDSAY:0,MAX_MESCNT:1e3,MAX_MESLINE:20}}},function(e,a){e.exports={TABULA:{label:"タブラの人狼",help:"<li>同数票の処刑候補が複数いた場合、ランダムに処刑する。\n<li>狼を全滅させると、村勝利。\n<li>人≦狼、つまり人間と人狼を１対１にしたとき、人間が余計にいなくなったら、狼勝利。\n"},MILLERHOLLOW:{label:"ミラーズホロウ",help:"<li>同数票の処刑候補が複数いた場合、処刑をとりやめる。\n<li>すべての死者は役職が公開される。\n<li>狼を全滅させると、村勝利。\n<li>「村人」を全滅させると、狼勝利。<br>役職を持つ村側の生き残りは、勝利に直接は寄与しない。\n"},LIVE_TABULA:{label:"タブラの人狼（死んだら負け）",help:"<li>同数票の処刑候補が複数いた場合、ランダムに処刑する。\n<li>狼を全滅させると、村側の生存者が勝利。\n<li>人≦狼、つまり人間と人狼を１対１にしたとき、人間が余計にいなくなったら、狼勝利。\n<li>ただし、仲間が勝利していても、死んでしまった者は敗北である。\n"},LIVE_MILLERHOLLOW:{label:"ミラーズホロウ（死んだら負け）",help:"<li>同数票の処刑候補が複数いた場合、処刑をとりやめる。\n<li>狼を全滅させると、村側の生存者が勝利。\n<li>「村人」を全滅させると、狼勝利。役職を持つ村側の生き残りは、勝利に直接は寄与しない。\n<li>ただし、仲間が勝利していても、死んでしまった者は敗北である。\n"},TROUBLE:{label:"Trouble☆Aliens",help:"<li>同数票の処刑候補が複数いた場合、ランダムに処刑する。\n<li>人狼は会話できない。襲撃候補リストで判断できない。\n<li>襲撃先は翌日、犠牲候補と人狼に開示される。\n<li>守護者は、より大人数の人狼からは守りきることができず、身代わりに感染する。\n<li>１人の人狼が襲撃すると感染、複数の人狼や一匹狼、賞金稼ぎが襲撃すると死亡する。\n<li>狼を全滅させると、村側の生存者が勝利（村側は死んだら負ける）。\n<li>人≦狼、つまり人間と人狼を１対１にしたとき、人間が余計にいなくなったら、狼と感染者の勝利。\n"},MISTERY:{label:"深い霧の夜",help:"<li>同数票の処刑候補が複数いた場合、ランダムに処刑する。\n<li>村側は自分の役職を自覚しない。\n<li>村側は、能力の結果不審者を見かけることがある。\n<li>人狼の行動対象に選ばれると、不審者を見かける。\n<li>狼を全滅させると、村勝利。\n<li>役職「村人」を全滅させると、狼勝利。<br>役職を持つ村側の生き残りは、勝利に直接は寄与しない。\n"},VOV:{disabled:!0,label:"狂犬病の谷",help:"<li>同数票の処刑候補が複数いた場合、ランダムに処刑する。\n<li>１人の人狼が襲撃すると感染、複数の人狼や一匹狼、賞金稼ぎが襲撃すると死亡する。\n<li>狼を全滅させると、村勝利。\n<li>人≦狼、つまり人間と人狼を１対１にしたとき、人間が余計にいなくなったら、狼勝利。\n"},SECRET:{label:"陰謀に集う胡蝶",help:"<li>同数票の処刑候補が複数いた場合、ランダムに処刑する。\n<li>人狼は会話できない。襲撃候補リストで判断できない。\n<li>襲撃先は翌日、犠牲候補と人狼に開示される。\n<li>狼を全滅させると、村側の生存者が勝利。\n<li>人≦狼、つまり人間と人狼を１対１にしたとき、人間が余計にいなくなったら、狼の生存者が勝利。\n<li>いかなる場合も、死んでしまったものは敗北である。\n"}}},function(e,a,i){var r,t,o,n;({Set:n,Model:r,Query:t,Rule:o}=i(2)),new o("card").schema(function(){return this.order("write_at"),this.path("folder","book","part","potof"),this.belongs_to("role"),Object.assign(this.model_property,{stat:{get:function(){return t.stats.find(`${this.potof_id}-${this.idx}`)}}}),this.scope(function(e){return{for_part:function(a){return e.where({part_id:a})},for_phase:function(a){return e.where({phase_id:a})}}})}),new o("stat").schema(function(){return this.path("folder","book","part","potof"),this.belongs_to("able"),this.deploy(function(){return this.able_id=this.idx}),Object.assign(this.model_property,{card:{get:function(){return t.stats.find(`${this.potof_id}-${this.idx}`)}}})}),new o("role").schema(function(){return this.habtm("ables"),this.model=class extends this.model{static map_reduce(e,a){return a("group",e.group,{list:e})}}}),new o("trap").schema(function(){return this.order("write_at"),this.belongs_to("book"),this.belongs_to("potof")}),new o("able").schema(function(){return this.habtm("roles",{reverse:!0}),this.model=class extends this.model{static map_reduce(e,a){return a("group",e.group,{list:e})}}}),n.role.set(i(28)),n.trap.set(i(29)),n.able.set(i(30))},function(e,a){e.exports={51:{label:"?51?",win:null,group:"EVIL",able_ids:[],cmd:"role",help:""},57:{label:"?57?",win:null,group:"EVIL",able_ids:[],cmd:"role",help:""},dyingpossess:{label:"衰退狂人",win:"EVIL",group:"EVIL",able_ids:["aura","human","evil","vote","entrust"],cmd:"role",help:""},aurawolf:{label:"気狼",win:"WOLF",group:"WOLF",able_ids:["aura","wolf","hunt","friend","spy_aura","vote","entrust","WSAY"],cmd:"role",help:""},nothing:{label:"普通の日",win:null,group:"EVENT",able_ids:[],help:""},aprilfool:{label:"四月馬鹿",win:null,group:"EVENT",able_ids:[],help:""},turnfink:{label:"二重スパイ",win:null,group:"EVENT",able_ids:[],help:""},turnfairy:{label:"妖精の輪",win:null,group:"EVENT",able_ids:[],help:""},eclipse:{label:"日蝕",win:null,group:"EVENT",able_ids:[],help:""},cointoss:{label:"Sir Cointoss",win:null,group:"EVENT",able_ids:[],help:""},force:{label:"影響力",win:null,group:"EVENT",able_ids:[],help:""},miracle:{label:"奇跡",win:null,group:"EVENT",able_ids:[],help:""},prophecy:{label:"聖者のお告げ",win:null,group:"EVENT",able_ids:[],help:""},clamor:{label:"不満",win:null,group:"EVENT",able_ids:[],help:""},fire:{label:"熱意",win:null,group:"EVENT",able_ids:[],help:""},nightmare:{label:"悪夢",win:null,group:"EVENT",able_ids:[],help:""},ghost:{label:"亡霊",win:null,group:"EVENT",able_ids:[],help:""},escape:{label:"逃亡",win:null,group:"EVENT",able_ids:[],help:""},seance:{label:"降霊会",win:null,group:"EVENT",able_ids:[],help:""},entry:{label:"エントリー",win:null,group:"TURN",able_ids:["ENTRY"],help:""},start:{label:"初日",win:null,group:"TURN",able_ids:[],help:""},main:{label:"二日目以降",win:null,group:"TURN",able_ids:[],help:""},prologue:{label:"プロローグ",win:"NONE",group:"TURN",able_ids:["exit"],help:""},epilogue:{label:"エピローグ",win:null,group:"TURN",able_ids:[],help:""},live:{label:"生存者",win:null,group:"LIVE",able_ids:["SSAY","TSAY","AIM","commit"],help:""},executed:{label:"処刑",win:null,group:"LIVE",able_ids:["GSAY","TSAY"],help:""},victim:{label:"襲撃",win:null,group:"LIVE",able_ids:["GSAY","TSAY"],help:""},cursed:{label:"呪詛",win:null,group:"LIVE",able_ids:["GSAY","TSAY"],help:""},droop:{label:"衰退",win:null,group:"LIVE",able_ids:["GSAY","TSAY"],help:""},suicide:{label:"後追",win:null,group:"LIVE",able_ids:["GSAY","TSAY"],help:""},feared:{label:"恐怖",win:null,group:"LIVE",able_ids:["GSAY","TSAY"],help:""},suddendead:{label:"突然死",win:null,group:"LIVE",able_ids:["GSAY","TSAY"],help:""},leave:{label:"―",win:null,group:null,able_ids:[],help:""},none:{label:"",win:null,group:null,able_ids:[],help:""},bind:{label:"―",win:null,group:null,able_ids:[],help:""},hide:{label:"？？？",win:null,group:null,able_ids:["hike","vote","entrust"],help:"あなたは正体不明です。"},mob:{label:"見物人",win:"MOB",group:null,able_ids:[],help:"見物人全般のための仮想役職です。"},visiter:{label:"客席",win:"MOB",group:"MOB",able_ids:["VSAY","TSAY"],help:"進行中会話は客席同士のみ"},grave:{label:"裏方",win:"MOB",group:"MOB",able_ids:["VGSAY","TSAY"],help:"進行中会話は墓下と"},alive:{label:"舞台",win:"MOB",group:"MOB",able_ids:["VSAY","TSAY"],help:"進行中会話は地上、墓下、両方と"},juror:{label:"陪審",win:"HUMAN",group:"MOB",able_ids:["VSAY","TSAY","vote","entrust"],help:"進行中会話は陪審同士のみ。陪審（＆決定者）だけが投票する。"},gamemaster:{label:"黒幕",win:"MOB",group:"MOB",able_ids:["gm_droop","gm_live","gm_disable_vote","gm_enable_vote","VSAY","TSAY"],help:"進行中会話は地上、墓下、両方と。場を支配する特権をもつ。"},master:{label:"村立て人",win:null,group:"SPECIAL",able_ids:["maker","kick","muster","editvilform","update","MAKER"]},admin:{label:"管理人",win:null,group:"SPECIAL",able_ids:["maker","kick","muster","editvilform","update","scrapvil","ADMIN"]},lost:{label:"喪失",win:null,group:"OTHER",able_ids:[],cmd:"gift",help:'あなたは贈り物を<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Gift)GIFTID_LOST" TARGET="_blank">喪失</A>しました。 もう二度と手にすることはないでしょう。もしまたあなたの手に贈り物があっても、消え去ってしまいます。そして、あなたがそれに気付くことはないでしょう。'},shield:{label:"光の輪",win:null,group:"OTHER",able_ids:["circular","guard"],cmd:"gift",help:'あなたを<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Gift)GIFTID_SHIELD" TARGET="_blank">光の輪</A>が取り巻きます。 あなたはもし昨夜、襲撃されていたとしても守られました。 光の輪はひとりを一度しか守りません。'},glass:{label:"魔鏡",win:null,group:"OTHER",able_ids:["circular","see"],cmd:"gift",help:'あなたを<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Gift)GIFTID_GLASS" TARGET="_blank">魔鏡</A>が照らします。 あなたは、魔鏡を渡す相手を占います。 魔鏡はひとりを一度しか照らしません。'},ogre:{label:"悪鬼",win:"WOLF",group:"WOLF",able_ids:["wolf","hunt","friend","WSAY"],cmd:"gift",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Gift)GIFTID_OGRE" TARGET="_blank">悪鬼</A>です。 表向きは他の役目を帯びていますが、あなたは人を襲う悪い鬼なのです。'},fairy:{label:"妖精の子",win:"PIXI",group:"PIXI",able_ids:["pixi"],cmd:"gift",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Gift)GIFTID_FAIRY" TARGET="_blank">妖精から生まれた子</A>です。 表向きは他の役目を帯びていますが、あなたは人ならぬ存在なのです。 占い師、霊能者にどう判別されるかは、もともとの役職によります。'},fink:{label:"半端者",win:"EVIL",group:"EVIL",able_ids:["evil"],cmd:"gift",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Gift)GIFTID_FINK" TARGET="_blank">半端者</A>です。 表向きは他の役目を帯びていますが、あなたは人ともつかぬ、人狼ともつかぬ、半端な正体を隠しています。'},decide:{label:"決定者",win:null,group:"OTHER",able:"投票",able_ids:["vote_role"],cmd:"gift",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Gift)GIFTID_DECIDE" TARGET="_blank">決定者</A>です。 あなたは追加票を投じる権利を持ちつづけます。行使することで、健在を示すこともできるでしょう。'},seeronce:{label:"夢占師",win:null,group:"OTHER",able:"占う",able_ids:["once","see","spy_wolf"],cmd:"gift",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Gift)GIFTID_SEERONCE" TARGET="_blank">夢占師</A>です。'},dipsy:{label:"酔払い",win:null,group:"OTHER",able_ids:[],cmd:"gift",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Gift)GIFTID_DIPSY" TARGET="_blank">酔払い</A>です。 あなたが人外もしくは村人に相対するものであれば、自分の役割を見失うことはありません。 また、光の輪や魔鏡といった贈り物を受け取った場合、酔いが醒めることでしょう。'},lover:{label:"弟子",win:null,group:"OTHER",able:"入門",able_ids:["aura","bond","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_LOVER" TARGET="_blank">弟子</A>です。 好きな人物を師匠として選び、弟子入りします。次の朝、あなたは頭角をあらわし、絆の師匠と同じ役職になっています。'},robber:{label:"盗賊",win:null,group:"OTHER",able_ids:["aura","rob","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_ROBBER" TARGET="_blank">盗賊</A>です。'},tangle:{label:"怨念",win:null,group:"OTHER",able_ids:["aura","revenge","tangle","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_TANGLE" TARGET="_blank">怨念</A>です。'},villager:{label:"村人",win:"HUMAN",group:"HUMAN",able_ids:["human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_VILLAGER" TARGET="_blank">村人</A>です。 特殊な能力はもっていません。'},stigma:{label:"聖痕者",win:"HUMAN",group:"HUMAN",able_ids:["aura","stigma","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_STIGMA" TARGET="_blank">聖痕者</A>です。'},fm:{label:"結社員",win:"HUMAN",group:"HUMAN",able_ids:["aura","fm","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_FM" TARGET="_blank">結社員</A>です。 独自の人脈を持つ秘密結社の一員です。'},sympathy:{label:"共鳴者",win:"HUMAN",group:"HUMAN",able_ids:["aura","fm","human","vote","entrust","SPSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_SYMPATHY" TARGET="_blank">共鳴者</A>です。'},seer:{label:"占い師",win:"HUMAN",group:"HUMAN",able_ids:["aura","see","spy_wolf","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_SEER" TARGET="_blank">占い師</A>です。'},seerwin:{label:"信仰占師",win:"HUMAN",group:"HUMAN",able_ids:["aura","see","spy_win","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_SEERWIN" TARGET="_blank">信仰占師</A>です。'},aura:{label:"気占師",win:"HUMAN",group:"HUMAN",able_ids:["aura","see","spy_aura","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_AURA" TARGET="_blank">気（オーラ）占い師</A>です。'},oura:{label:"気占師",win:"HUMAN",group:"HUMAN",able_ids:["aura","see","spy_aura","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_AURA" TARGET="_blank">気（オーラ）占い師</A>です。'},seerrole:{label:"賢者",win:"HUMAN",group:"HUMAN",able_ids:["aura","see","spy_role","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_SEERROLE" TARGET="_blank">賢者</A>です。'},guard:{label:"守護者",win:"HUMAN",group:"HUMAN",able_ids:["aura","guard","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_GUARD" TARGET="_blank">守護者</A>です。'},medium:{label:"霊能者",win:"HUMAN",group:"HUMAN",able_ids:["aura","medium","spy_wolf","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_MEDIUM" TARGET="_blank">霊能者</A>です。'},mediumwin:{label:"信仰霊能者",win:"HUMAN",group:"HUMAN",able_ids:["aura","medium","spy_win","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_MEDIUMWIN" TARGET="_blank">信仰霊能者</A>です。'},mediumrole:{label:"導師",win:"HUMAN",group:"HUMAN",able_ids:["aura","medium","spy_role","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_MEDIUMROLE" TARGET="_blank">導師</A>です。'},necromancer:{label:"降霊者",win:"HUMAN",group:"HUMAN",able_ids:["aura","chkGSAY","medium","spy_wolf","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_NECROMANCER" TARGET="_blank">降霊者</A>です。'},follow:{label:"追従者",win:"HUMAN",group:"HUMAN",able_ids:["aura","human","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_FOLLOW" TARGET="_blank">追従者</A>です。 だれかを信じ、委ねましょう。'},fan:{label:"煽動者",win:"HUMAN",group:"HUMAN",able_ids:["aura","revenge","riot","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_FAN" TARGET="_blank">煽動者</A>です。'},hunter:{label:"賞金稼",win:"HUMAN",group:"HUMAN",able_ids:["aura","revenge","sneak","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_HUNTER" TARGET="_blank">賞金稼</A>です。 毎夜、一人を付け狙います。'},weredog:{label:"人犬",win:"HUMAN",group:"HUMAN",able_ids:["aura","tafness","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_WEREDOG" TARGET="_blank">人犬</A>です。'},prince:{label:"王子様",win:"HUMAN",group:"HUMAN",able_ids:["aura","august","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_PRINCE" TARGET="_blank">王子様</A>です。'},rightwolf:{label:"狼血族",win:"HUMAN",group:"HUMAN",able_ids:["aura","blind","wolf","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_VILLAGER" TARGET="_blank">村人</A>です。 特殊な能力はもっていません。\n狼血族のあなたは、占い師、霊能者に人狼と判定されます。ですが、あなたは村人で、勝利条件も変わりません。 勝利を目指して頑張りましょう。占われると、正体を自覚し表示が増えます。'},doctor:{label:"医師",win:"HUMAN",group:"HUMAN",able:"診察",able_ids:["aura","cure","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_DOCTOR" TARGET="_blank">医師</A>です。'},curse:{label:"呪人",win:"HUMAN",group:"HUMAN",able_ids:["aura","curse","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_CURSE" TARGET="_blank">呪人</A>です。'},dying:{label:"預言者",win:"HUMAN",group:"HUMAN",able_ids:["aura","droop","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_DYING" TARGET="_blank">預言者</A>です。'},invalid:{label:"病人",win:"HUMAN",group:"HUMAN",able_ids:["aura","revenge","seal","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_INVALID" TARGET="_blank">病人</A>です。 あなたが命を落としたとき、犯人は病気に感染します。'},alchemist:{label:"錬金術師",win:"HUMAN",group:"HUMAN",able_ids:["aura","once","revenge","cling","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_ALCHEMIST" TARGET="_blank">錬金術師</A>です。 あなたは一度だけ、薬を飲むことが出来ます。'},witch:{label:"魔女",win:"HUMAN",group:"HUMAN",able_ids:["aura","analeptic","poison","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_WITCH" TARGET="_blank">魔女</A>です。 あなたは二日目に、毒薬と蘇生薬をひとつずつ完成させます。'},girl:{label:"少女",win:"HUMAN",group:"HUMAN",able_ids:["aura","night","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_GIRL" TARGET="_blank">少女</A>です。'},scapegoat:{label:"生贄",win:"HUMAN",group:"HUMAN",able:"疑う",able_ids:["aura","scapegoat","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_SCAPEGOAT" TARGET="_blank">生贄</A>です。'},elder:{label:"長老",win:"HUMAN",group:"HUMAN",able_ids:["aura","revenge","seal","twolife","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_ELDER" TARGET="_blank">長老</A>です。 もしも命を落としたら、あなたの恨みは犯人を襲います。'},jammer:{label:"邪魔之民",win:"EVIL",group:"EVIL",able:"隠す",able_ids:["aura","jammer","human","evil","vote","entrust","XSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_JAMMER" TARGET="_blank">邪魔之民</A>です。'},snatch:{label:"宿借之民",win:"EVIL",group:"EVIL",able_ids:["aura","snatch","human","evil","vote","entrust","XSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_SNATCH" TARGET="_blank">宿借之民</A>です。'},bat:{label:"念波之民",win:"EVIL",group:"EVIL",able_ids:["aura","human","evil","vote","entrust","XSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_BAT" TARGET="_blank">念波之民</A>です。'},possess:{label:"狂人",win:"EVIL",group:"EVIL",able_ids:["aura","human","evil","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_POSSESS" TARGET="_blank">狂人</A>です。'},fanatic:{label:"狂信者",win:"EVIL",group:"EVIL",able_ids:["aura","fanatic","human","evil","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_FANATIC" TARGET="_blank">狂信者</A>です。'},muppeting:{label:"人形使い",win:"EVIL",group:"EVIL",able_ids:["aura","human","evil","vote","entrust","MSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_MUPPETER" TARGET="_blank">人形使い</A>です。'},wisper:{label:"囁き狂人",win:"EVIL",group:"EVIL",able_ids:["aura","human","evil","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_WISPER" TARGET="_blank">囁き狂人</A>です。 少人数になると勝敗が確定する状況もあります、ですがこの場合も自動で終了することはありません。'},cpossess:{label:"囁き狂人",win:"EVIL",group:"EVIL",able_ids:["aura","human","evil","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_WISPER" TARGET="_blank">囁き狂人</A>です。 少人数になると勝敗が確定する状況もあります、ですがこの場合も自動で終了することはありません。'},semiwolf:{label:"半狼",win:"EVIL",group:"EVIL",able_ids:["aura","wolfify","human","evil","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_SEMIWOLF" TARGET="_blank">半狼</A>です。'},oracle:{label:"魔神官",win:"EVIL",group:"EVIL",able_ids:["aura","medium","spy_role","human","evil","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_ORACLE" TARGET="_blank">魔神官</A>です。'},sorcerer:{label:"魔術師",win:"EVIL",group:"EVIL",able_ids:["aura","see","spy_role","human","evil","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_SORCERER" TARGET="_blank">魔術師</A>です。'},walpurgis:{label:"魔法少年",win:"EVIL",group:"EVIL",able_ids:["aura","grave","analeptic","poison","human","evil","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_WALPURGIS" TARGET="_blank">魔法少年</A>です。 やがて命を落とすと魔女になると宿命付けられています。'},headless:{label:"首無騎士",win:"WOLF",group:"WOLF",able_ids:["aura","wolf","hunt","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_HEADLESS" TARGET="_blank">首のない騎士</A>です。 あなたは人狼仲間を斬り捨てることも厭いません。'},wolf:{label:"人狼",win:"WOLF",group:"WOLF",able_ids:["aura","wolf","hunt","friend","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_WOLF" TARGET="_blank">人狼</A>です。'},intwolf:{label:"智狼",win:"WOLF",group:"WOLF",able_ids:["aura","wolf","hunt","friend","spy_role","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_INTWOLF" TARGET="_blank">智狼</A>です。特殊な能力を持つ人狼です。'},cwolf:{label:"呪狼",win:"WOLF",group:"WOLF",able_ids:["aura","wolf","curse","hunt","friend","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_CURSEWOLF" TARGET="_blank">呪狼</A>です。特殊な能力を持つ人狼です。'},cursewolf:{label:"呪狼",win:"WOLF",group:"WOLF",able_ids:["aura","wolf","curse","hunt","friend","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_CURSEWOLF" TARGET="_blank">呪狼</A>です。特殊な能力を持つ人狼です。'},whitewolf:{label:"白狼",win:"WOLF",group:"WOLF",able:"襲う",able_ids:["hunt","friend","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_WHITEWOLF" TARGET="_blank">白狼</A>です。特殊な能力を持つ人狼です。 あなたを占った占い師は、あなたを人間とみなします。あなたは能力者特有のオーラを発しません。'},childwolf:{label:"仔狼",win:"WOLF",group:"WOLF",able_ids:["aura","wolf","revenge","grudge","hunt","friend","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_CHILDWOLF" TARGET="_blank">仔狼</A>です。特殊な能力を持つ人狼です。'},dyingwolf:{label:"衰狼",win:"WOLF",group:"WOLF",able_ids:["aura","wolf","droop","hunt","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_DYINGWOLF" TARGET="_blank">衰狼</A>です。特殊な能力を持つ人狼です。'},silentwolf:{label:"黙狼",win:"WOLF",group:"WOLF",able_ids:["aura","wolf","hunt","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_SILENTWOLF" TARGET="_blank">黙狼</A>です。 人狼の襲撃対象となることはありませんが、人狼（と囁き狂人、擬狼妖精）同士にしか聞こえない会話は、あなたには聞こえません。'},hamster:{label:"栗鼠妖精",win:"PIXI",group:"PIXI",able_ids:["aura","pixi","armor","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_PIXI" TARGET="_blank">栗鼠妖精</A>です。'},werebat:{label:"蝙蝠妖精",win:"PIXI",group:"PIXI",able_ids:["aura","pixi","armor","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_BAT" TARGET="_blank">蝙蝠妖精</A>です。 あなたは他の妖精が誰であるか知っていますし、新たに生まれた妖精を知ることもできます。ただし、姿を換えてしまった宿借妖精の行方はわかりません。 また、蝙蝠妖精同士にしか聞こえない会話が可能です。'},mimicry:{label:"擬狼妖精",win:"PIXI",group:"PIXI",able_ids:["aura","pixi","armor","vote","entrust","WSAY"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_MIMICRY" TARGET="_blank">擬狼妖精</A>です。'},dyingpixi:{label:"風花妖精",win:"PIXI",group:"PIXI",able_ids:["aura","pixi","armor","droop","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_DYINGPIXI" TARGET="_blank">風花妖精</A>です。'},trickster:{label:"悪戯妖精",win:"PIXI",group:"PIXI",able_ids:["aura","pixi","armor","bonds","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_TRICKSTER" TARGET="_blank">悪戯妖精</A>です。 結ばれた人たちにとっては、単なるはた迷惑な悪戯にすぎません。'},hatedevil:{label:"邪気悪魔",win:"HATER",group:"OTHER",able_ids:["aura","bonds","hate","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_HATEDEVIL" TARGET="_blank">邪気悪魔</A>です。 結びつけた二人のうち、どちらか片方だけが生き延びれば、あなたの勝利となります。あなたにその絆が結ばれていない限り、あなた自身の死は勝敗には直接関係しません。'},hate:{label:"宿敵",win:"HATER",group:"BIND",able_ids:["aura","bonds","hate","human","vote","entrust"],cmd:"role",help:'あなたには<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_HATEDEVIL" TARGET="_blank">宿敵</A>がいます。'},love:{label:"恋人",win:"LOVER",group:"BIND",able_ids:["aura","bonds","love","human","vote","entrust"],cmd:"role",help:'あなたには<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_LOVEANGEL" TARGET="_blank">恋人</A>がいます。'},loveangel:{label:"恋愛天使",win:"LOVER",group:"OTHER",able_ids:["aura","bonds","love","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_LOVEANGEL" TARGET="_blank">恋愛天使</A>です。 結びつけた二人が生き延びれば、あなたの勝利となります。あなたにその絆が結ばれていない限り、あなた自身の死は勝敗には直接関係しません。'},passion:{label:"片思い",win:"LOVER",group:"OTHER",able_ids:["aura","bond","love","human","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_PASSION" TARGET="_blank">片想い</A>です。 選んだ人が生き延び、あなたが生き延びれば、あなたの勝利となります。'},lonewolf:{label:"一匹狼",win:"LONEWOLF",group:"WOLF",able_ids:["aura","wolf","armor","kill","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_LONEWOLF" TARGET="_blank">一匹狼</A>です。 襲撃先はあなた以外であれば誰でもかまいません。'},guru:{label:"笛吹き",win:"GURU",group:"OTHER",able_ids:["aura","human","guru","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_GURU" TARGET="_blank">笛吹き</A>です。'},dish:{label:"鱗魚人",win:"DISH",group:"OTHER",able_ids:["aura","human","dish","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_DISH" TARGET="_blank">鱗魚人</A>です。新鮮なふぃーっしゅ。です。'},bitch:{label:"遊び人",win:"LOVER",group:"OTHER",able_ids:["aura","human","bitch","vote","entrust"],cmd:"role",help:'あなたは<A href="http://crazy-crazy.sakura.ne.jp/giji/?(Role)ROLEID_BITCH" TARGET="_blank">遊び人</A>です。 本命とあなたが生き延びれば、あなたの勝利です。'}}},function(e,a){e.exports={blank:{label:"普通の日",help:""},nothing:{label:"普通の日",cmd:"trap",help:"今日は、特別なことのない一日のようだ。さあ普段通り、誰かを処刑台にかけよう。"},aprilfool:{label:"四月馬鹿",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_APRIL_FOOL" TARGET="_blank">四月馬鹿</A></b>\n<br>\n大変、大変、大変なことになった。きみの役職は変化しているかもしれない。もしも誰かと絆を結んでいるなら、急に相手が憎くなってしまい、絆の相手だけにしか投票できない。\nそして悟ってしまった。今夜だけは、相方の後を追うことはないと……。\n<br>\n<table class="table">\n<tr>\n<th colspan=3>役職の変貌\n<th rowspan=4>※一日で元に戻る\n<tr>\n<td>賢者\n<td>←→\n<td>魔女\n<tr>\n<td>守護者\n<td>←→\n<td>長老\n<tr>\n<td>賞金稼\n<td>←→\n<td>少女\n</table>'},turnfink:{label:"二重スパイ",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_TURN_FINK" TARGET="_blank">二重スパイ</A></b>\n<br>\nなんということだろう！一人が村側を裏切り、狼に与する半端者になってしまった。明日以降も、彼は村人を裏切り続けるだろう……。\n<br>\n決定者や光の輪の持ち主なら、このときにその力を手放してしまう。'},turnfairy:{label:"妖精の輪",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_TURN_FAIRY" TARGET="_blank">妖精の輪</A></b>\n<br>\nなんということだろう！一人が森に立ち入り、妖精の養子になってしまった。明日以降も、彼は村人を裏切り続けるだろう……。\n<br>\n決定者や光の輪の持ち主なら、このときにその力を手放してしまう。'},eclipse:{label:"日蝕",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_ECLIPSE" TARGET="_blank">日蝕</A></b>\n<br>\n暗い日蝕が村中を覆い、お互い顔も名前も解らない。この闇夜は丸一日続くだろう。他人になりすまし、議論を混乱させることもできてしまうかもしれない。'},cointoss:{label:"Sir Cointoss",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_COINTOSS" TARGET="_blank">Sir Cointoss</A></b>\n<br>\nお控えなさい。お控えなさい。コイントス卿はこの村の投票結果に意見があるようでございます。\n卿の御意向によっては、投票結果に基づいた処刑を取り止めにすることもあります。\n五分五分くらいかな。'},force:{label:"影響力",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_FORCE" TARGET="_blank">影響力</A></b>\n<br>\n今日の投票箱は無色透明だ。だれかが投票した瞬間にその内容はハッキリと見えるから、投票をセットするときは気を付けて！'},miracle:{label:"奇跡",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_MIRACLE" TARGET="_blank">奇跡</A></b>\n<br>\n帰ってきた！黄泉の国から、今日の襲撃で死んだ犠牲者がかえってきた！能力を失ったかもしれないけれど、それは些細なことだよ！ね！\n<br>\n人狼、一匹狼、賞金稼ぎなどに襲われた死者は生き返る。ただし、その能力は失われる。'},prophecy:{label:"聖者のお告げ",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_PROPHECY" TARGET="_blank">聖者のお告げ</A></b>\n<br>\n聖者は民の夢枕に告げられました。今の任より、<b>決定者</b>にふさわしい人物がいると。\n旧き任務は解かれ、あたらしい<b>決定者</b>は皆に喝采で迎え入れられるだろう。'},clamor:{label:"不満",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_CLAMOR" TARGET="_blank">不満</A></b>\n<br>\n村には不満が鬱屈している。今夜の投票でまた人間を処刑してしまったら……悪夢が始まる。\nはじけた不満に背中を押され、話し合いもなしに、さらに一人の首を必要とするだろう。'},fire:{label:"熱意",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_FIRE" TARGET="_blank">熱意</A></b>\n<br>\n村には期待に満ちた熱意が渦巻いている。今夜の投票がひとならぬものを処刑できたなら……悪夢が始まるのだ。\nはじけた熱意に背中を押され、話し合いもなしに、さらに一人の首を必要とするだろう。'},nightmare:{label:"悪夢",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_NIGHTMARE" TARGET="_blank">悪夢</A></b>\n<br>\n恐ろしい一日が始まる。今日は投票だけができる。発言も、能力も使えない。そして、突然死は発生しない。\n<br>\nさあ投票して、こんな日が早く過ぎ去ってしまうよう、ひとり祈りを捧げよう。'},ghost:{label:"亡霊",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_GHOST" TARGET="_blank">亡霊</A></b>\n<br>\n今夜、人狼に殺された人は人狼になる。また、襲撃を実行した人狼は命を落としてしまうだろう。人狼となった者は報復行動を行わない。ただし、命拾いをしたならば人狼にはならない。\n<br>\n一匹狼は亡霊を作らない。'},escape:{label:"逃亡",cmd:null,help:"<b>逃亡</b>\n<br>\nせめて一人だけでも、なんとかして逃がそう。今夜の投票で逃亡者を一人決め、夜中の処刑のかわりに密かに逃がすのだ。\n<br>\nしかし逃亡者は一日のあいだ逃亡生活を続け、ついに村へと帰還してしまう。帰還者の票は通常の三倍尊重されるだろう。\n実装がめんどうだから、このまま未定義にしておこうかな。"},seance:{label:"降霊会",cmd:"trap",help:'<b><A href="http://crazy-crazy.sakura.ne.jp/giji/?(Event)EVENTID_SEANSE" TARGET="_blank">降霊会</A></b>\n<br>\nこっくりさん、こっくりさん……<br>秘密の儀式で、墓場の霊魂がかえってきた。今日に限り、生者も姿の見えぬ死者も屋根を共にし、議論するだろう。'}}},function(e,a){e.exports={editvilform:{group:"GM",at:"around",cmd:"editvilform",btn:"村を編集する",change:"村の編集フォームを確認、修正します。",help:""},muster:{group:"GM",at:"prologue",cmd:"muster",btn:"点呼！",change:"全員を未発言状態にします。未発言者は１日そのまま発言がないと、自動退出します。",help:""},update:{group:"GM",at:"all",cmd:"update",btn:"更新！",change:"ただちに更新し、次の日を迎えます。お覚悟はよろしいですか？",help:""},scrapvil:{group:"GM",at:"all",cmd:"scrapvil",btn:"廃村！",change:"ただちに村を廃村にします。廃村になった村はエピローグになります。お覚悟はよろしいですか？",help:""},exit:{group:"POTOF",at:"prologue",cmd:"exit",btn:"退出…",change:"村を立ち去ります。",help:""},commit:{group:"POTOF",at:"progress",cmd:"commit",sw:"時間を進める",pass:"（時間を進めない）",change:"時間を進めるかどうか、選択してください。",help:"全員が「時間を進める」を選ぶと前倒しで更新されます。\n最低一発言して確定しないと、時間を進める事ができません。"},night:{at:"main",sw:"夜遊びする",pass:"（夜遊びしない）",change:"夜遊びをして、深夜の囁きを聞いてしまうかどうか、選択してください。",help:"あなたは二日目以降、夜に出歩くことができます。\n人狼の囁き、民の念話、共鳴者の共鳴を誰のものとも判別せず聞いちゃうので、朝になって昨日を振り返ると思い出せることでしょう。\n顔や名前はわかりませんが。\nただしこのとき、もしあなたが人狼の、誰かひとりにでも襲撃される矛先に含まれていると、恐怖のあまり、実際に襲われる犠牲者とは別に死んでしまいます。\nこの死亡を護衛する方法はありません。また、息を引き取るあなたを尻目に、狼達は別の人物を襲撃するでしょう。"},dish:{at:"progress",sw:"跳ねる",pass:"（跳ねない）",change:"跳ねるアピールをするかどうか、選択してください。",help:"美味しく食べて貰うことを悦びとし、活き活きと跳ねることができます。わたしをたべて、わたしをたべて、とアピールしましょう。"},cling:{at:"main",sw:"飲薬する",pass:"（飲薬しない）",change:"あなたが殺害されたとしたら、犯人を道連れにするかどうか、選択してください。",help:"薬を服用した夜、もし処刑以外の要因で命を落とした場合、その犯人を道連れにします。人狼の襲撃の場合、襲撃実行者が対象となります。"},guru:{for:"live",at:"progress",targets:"誘う",pass:"（パス）",change:"誘い込む犠牲者を選択してください。",help:"毎晩ふたりずつ、好きな人物をひそかに誘い込むことができます。自分自身を誘うことはできません。\n誘い込まれた当人たちは夜な夜な踊り明かし、そのことを覚えています。しかし、彼らの能力や所属陣営などに変化はありません。"},bitch:{for:"live",at:"start",targets:"遊ぶ",change:"絆を結ぶ相手と、弄ぶ遊び相手を選択してください。",help:"一日目、一人目に選択した人物を本命の恋人として“運命の絆”を結びつけ、二人目は絆を結ぶふりをして手玉にとります。\n“運命の絆”を結んだ二人は、片方が死亡すると後を追って死亡します。もう一人はどうでもよいのですが、そう思わせないこまめなケアが大切です。"},bonds:{for:"live",at:"start",targets:"結ぶ",change:"絆で結ぶ二人を選択してください。",help:"一日目、好きな二人に“運命の絆”を結びつける事ができます。“運命の絆”を結んだ二人は、片方が死亡すると後を追って死亡します。"},bond:{for:"live",at:"start",target:"結ぶ",change:"あなたとの絆を結ぶ相手を選択してください。",help:"一日目、あなたから好きな人に“運命の絆”を結びつける事ができます。“運命の絆”を結んだ相手が死亡すると、あなたは後を追って死亡します。"},guard:{for:"live",at:"main",target:"守る",pass:"（パス）",change:"守護する対象を選択してください。",help:"一人を狼の襲撃、もしくは付け狙う賞金稼の手から守ることが出来ます。\n自分自身を守ることは出来ません。"},see:{for:"live",at:"progress",target:"占う",pass:"（パス）",change:"正体を知りたい相手を選択してください。",help:"ひとりを占い対象に指定します。"},sneak:{for:"live",at:"progress",target:"狙う",pass:"（パス）",change:"付け狙う相手を選択してください。",help:"殺害します。\nただし、対象が護衛されているか、光の輪を渡されているか、妖精、もしくは一匹狼であれば、効力は発揮しません。\nまた、対象が半狼であれば彼は人狼になり、人犬、もしくは無傷の長老の場合は、即死はしませんが傷を負わせることができます。"},hunt:{for:"live",at:"progress",target:"襲う",pass:"（パス）",change:"殺害する相手を選択してください。",help:"人狼全員で多数決をし、一人だけ殺害します。\nただし、対象が護衛されているか、光の輪を渡されているか、妖精、もしくは一匹狼であれば、効力は発揮しません。\nまた、対象が半狼であれば彼は人狼になり、人犬、もしくは無傷の長老の場合は、即死はしませんが傷を負わせることができます。"},kill:{for:"live",at:"progress",target:"襲う",pass:"（パス）",change:"殺害する相手を選択してください。",help:"殺害します。\nただし、対象が護衛されているか、光の輪を渡されているか、妖精、もしくは一匹狼であれば、効力は発揮しません。\nまた、対象が半狼であれば彼は人狼になり、人犬、もしくは無傷の長老の場合は、即死はしませんが傷を負わせることができます。"},cure:{for:"live",at:"main",target:"診察",pass:"（パス）",change:"診察する相手を選択してください。",help:"ひとりを診察し、人狼の牙に感染しているかを確認します。その場合は治療します。治療した人は生存者として数えますが、能力は取り戻しません。"},tangle:{for:"dead",at:"progress",target:"憑依",pass:"（パス）",change:"付け狙う相手を選択してください。",help:"死者の埋葬地をうろつきまわっています。\n指定した故人の役職と勝利条件を写しとり、対象を蘇生させます。\nこのため、あなたは死亡しなくては、勝利がありません。"},analeptic:{for:"dead",at:"progress",require:"role1",target:"投薬",pass:"（パス）",change:"薬を投与する相手を選択してください。",help:"死者に投薬して蘇生させます。\n蘇生は一度だけおこなうことができ、それっきり薬は失われます。"},poison:{for:"live",at:"progress",require:"role2",target:"投薬",pass:"（パス）",change:"薬を投与する相手を選択してください。",help:"生きている者に投薬して毒殺します。\n毒殺は一度ずつだけおこなうことができ、それっきり薬は失われます。"},scapegoat:{for:"live",at:"main",target:"疑う",pass:"（パス）",change:"あなたが最後になったとしたら、指差す相手を選択してください。",help:"もし投票数が同数になり処刑する相手が定まらないと、混乱した村人達に処刑されてしまいます。\nあなたが最後に指差した人は、後悔する村人達に翌日、処刑されるでしょう。皆、そうするより他にないのです。"},hike:{for:"cast",at:"progress",target:"外出する",pass:"（パス）",change:"会いに行く相手を選択してください。",help:"特殊な能力があるかどうか自覚していません。夜は積極的に外出して、様子をさぐりましょう。"},vote:{group:"POTOF",for:"live",at:"main",cmd:"vote",target:"投票",pass:"（委任する）",change:"処刑する相手を選択してください。",help:"全員で多数決をし、一人だけ処刑します。"},vote_role:{for:"live",at:"main",target:"投票",pass:"（パス）",change:"処刑する相手を選択してください。",help:""},entrust:{group:"POTOF",for:"live",at:"main",cmd:"vote",target:"委任",pass:"（投票する）",change:"処刑を棄権し、一票を委ねる相手を選択してください。",help:"投票は棄権し、他人の投票と同じとすることができます。"},jammer:{for:"live",at:"progress",target:"邪魔",pass:"（パス）",change:"占いから保護する相手を選択してください。",help:"毎夜、一人をあらゆる占いから包み隠すことができます。\n自分自身を隠すことはできません。"},snatch:{for:"live",at:"progress",target:"換わる",pass:"（パス）",change:"顔と名前を簒奪する相手を選択してください。",help:"好きな人物の顔と名前を奪い、自身のそれと入れ替えることができます。この能力は非常に露顕しやすいので、行使には注意が必要です。\nもしも夜の間に屍体になった人を対象に選んだなら、旧いあなたは命を落とし、あなたとなったその屍体は息を吹き返すでしょう。\nまた、結ばれた絆や、笛吹きに誘われたことは姿とともにあり、姿を移し替えたときに引き継ぐことがあります。\n一度移し替えた姿は、永遠にあなたのものです。二度と元には戻りません。"},gm_droop:{group:"GM",for:"gm_live",at:"all",cmd:"gamemaster",target:"すぐに墓下へ",pass:"―――",change:"参加者として死なせる相手を選択してください。",help:""},gm_live:{group:"GM",for:"gm_dead",at:"all",cmd:"gamemaster",target:"すぐに表舞台へ",pass:"―――",change:"参加者として蘇生させる相手を選択してください。",help:""},gm_disable_vote:{group:"GM",for:"live",at:"all",cmd:"gamemaster",target:"投票から保護する",pass:"―――",change:"投票対象に選ぶことを認めない相手を選択してください。",help:""},gm_enable_vote:{group:"GM",for:"live",at:"all",cmd:"gamemaster",target:"投票を認可する",pass:"―――",change:"投票対象に選ぶこと許可する相手を選択してください。",help:""},maker:{group:"GM",for:"all",at:"all",cmd:"maker",target:"村を任せる",pass:"―――",change:"村の管理を任せる相手を選択してください。",help:""},kick:{group:"GM",for:"all",at:"prologue",cmd:"kick",target:"退去！",pass:"―――",change:"退去いただこう、かな…、と思った相手を選択してください。",help:""},blind:{label:"本人に秘密",help:"（サーバーは、この役職を保有していることを本人に通知しません。）"},wolf:{help:"あなたは人狼と判定されます。"},pixi:{help:"占いの対象となると死亡します。勝利判定では人間にも人狼にも数えられません。"},human:{help:"勝利判定では人間として数えられます。"},evil:{help:"人間でありながら、人外に協力する裏切り者です。場合によっては敢えて死ぬ必要があります。"},circular:{help:"この贈り物は、次に渡す相手を選び渡すことになっています。\n将来もしふたたびあなたの手に渡ったら、贈り物は消え去ってしまいます。"},friend:{help:"仲間に向けては能力を使いません。"},once:{help:"能力を持ちますが、その能力はたった一度しか使うことができません。"},hate:{help:"絆の運命は悲しい殺し合いを強いるでしょう。彼らは本来の勝利条件ではなく、ただ一人生き残ることが勝利条件となります。"},love:{help:"絆の運命は彼らを、愛で固く結ぶでしょう。彼らは本来の勝利条件ではなく、共存が勝利条件となります。"},droop:{help:"あなたは、生きた人狼の人数の二日後に、命を落とします。"},curse:{help:"あなたを占ってしまった占い師は死亡します。"},aura:{help:"あなたはオーラを持ちます。"},rob:{help:"誰もならなかった残り役職をすべて知ります。\n次の夜、その中から運命の導くままひとつの役職を選び、仮面の役職に成り代わるでしょう。\n運命は、あなたになにを課すでしょうか？"},grave:{help:"命を落とすと、能力を発揮することができます。"},armor:{help:"狼の襲撃や賞金稼の手により殺されることはありません。"},medium:{help:"処刑や突然死で死んだ全員を対象にします。\n無惨な死体について判断することは出来ません。"},spy_role:{help:"その人が持つ役職がわかります。恩恵は、役職とは別個のものです。このため半端者、悪鬼、妖精の子を直接見分けることはできません。\nまた、妖精を占うと呪殺します。ただし、呪人、呪狼を占ってしまうと、呪殺されてしまいます。\n邪魔之民に包み隠された相手を占うと、占いを実施しなかったことになり、結果を得たり、呪殺したりといった効能が得られません。"},spy_win:{help:"その人が持つ陣営（勝利条件）がわかります。多くは役職を思わせるものです。\nまた、妖精を占うと呪殺します。ただし、呪人、呪狼を占ってしまうと、呪殺されてしまいます。\n邪魔之民に包み隠された相手を占うと、占いを実施しなかったことになり、結果を得たり、呪殺したりといった効能が得られません。"},spy_aura:{help:"その人が能力を持つか判別出来ます。あなたにとって、村人、人狼、白狼は能力のオーラを持ちませんが、そうでない人物は能力のオーラを纏っていると感じられます。"},spy_wolf:{help:"その人が人間か人狼か判別できます。ただし狼血族は人狼と誤認し、白狼は人間と誤認してしまいます。\nまた、妖精を占うと呪殺します。ただし、呪人、呪狼を占ってしまうと、呪殺されてしまいます。\n邪魔之民に包み隠された相手を占うと、占いを実施しなかったことになり、結果を得たり、呪殺したりといった効能が得られません。"},stigma:{help:"独特の印を持つため、あなたの正体は比較的信用されやすいでしょう。"},fm:{help:"結社員・共鳴者が誰なのか知っています。"},fanatic:{help:"人狼にはあなたの正体はわかりませんが、あなたは人狼が誰か知っています。また、新たに人狼となったものを知ることもできます。\nですが、あなたは狼血族や擬狼妖精も人狼であると誤認してしまいますし、一匹狼の正体を知ることはできません。"},tafness:{help:"あなたは狼の襲撃を受ける、もしくは賞金稼に道連れにされると傷を負うものの、一日だけ生き長らえます。"},hurt:{group:"STATUS",label:"負傷",help:""},sheep:{group:"STATUS",help:"踊り狂ったおぼろげな記憶がある。"},infected:{group:"STATUS",label:"感染",help:""},hide_for_vote:{group:"STATUS",hide:["vote"],label:"投票対象外",help:""},hide_for_role:{group:"STATUS",hide:["role"],label:"能力対象外",help:""},hide_for_gift:{group:"STATUS",hide:["gift"],label:"恩恵対象外",help:""},disable_vote:{group:"STATUS",disable:["vote"],label:"<s>投票</s>",help:""},disable_special:{group:"STATUS",disable:["gift","role"],label:"<s>全能力</s>",help:"あなたはもう特殊能力を使うことができません。"},disable_gift:{group:"STATUS",disable:["gift"],label:"<s>恩恵</s>",help:"あなたはもう恩恵能力を使うことができません。"},disable_role:{group:"STATUS",disable:["role"],label:"<s>能力</s>",help:"あなたはもう役職能力を使うことができません。"},disable_poison:{group:"STATUS",disable:["poison"],label:"<s>毒薬</s>",help:"あなたはもう毒薬を使うことができません。"},disable_analeptic:{group:"STATUS",disable:["analeptic"],label:"<s>蘇生薬</s>",help:"あなたはもう蘇生薬を使うことができません。"},twolife:{help:"あなたは狼の襲撃を受ける、もしくは賞金稼に道連れにされても、一度だけは命が助かります。"},august:{help:"あなたが処刑されることに決まると一度だけは、その処刑はとりやめになります。"},revenge:{help:"どんな理由であれ、あなたが命を落とすと、その夜のうちに能力を発揮します。"},seal:{help:"ひとりの犯人が特定できるのであれば、犯人はいっさいの能力を行使できなくなります。"},grudge:{help:"あなたが命を落とした翌日、人狼は二つの襲撃をおこない、二人を一度に殺害します。"},riot:{help:"あなたが死亡した翌日は、村人達が暴力的に二つの投票をおこない、二人を一度に処刑します。"},wolfify:{help:"あなたは狼の襲撃を受ける、もしくは賞金稼に道連れにされると、あなたは人狼になります。"},chkGSAY:{help:"顔や名前はわかりませんが、あなたの耳には死者の声が届いちゃうことでしょう。"},ENTRY:{group:"POTOF",cmd:"entry",text:["talk"],label:"導入",help:"キャラクターを選択し、エントリーしましょう。"},MAKER:{group:"GM",cmd:"write",text:["talk","memo","act"],label:"村立て話",help:"あなたは村立て人です。"},ADMIN:{group:"GM",cmd:"write",text:["talk","memo","act"],label:"管理者話",help:"あなたは管理人です。"},SPSAY:{cmd:"write",text:["talk","memo"],label:"共鳴",help:"あなたは、共鳴者同士にしか聞こえない会話が可能です。"},WSAY:{cmd:"write",text:["talk","memo"],label:"囁き",help:"あなたは、人狼（と囁き狂人、擬狼妖精）同士にしか聞こえない会話が可能です。"},XSAY:{cmd:"write",text:["talk","memo"],label:"念話",help:"あなたは、念波星でしか聞こえない会話が可能です。"},GSAY:{group:"POTOF",cmd:"write",text:["talk","memo","act"],label:"会話",help:"あなたは、死者にしか聞こえない会話が可能です。"},MSAY:{cmd:"write",text:["talk","memo"],label:"口借り",help:"あなたは<b>_NPC_</b>の口を借り、好きな言葉を伝えることができます。"},AIM:{group:"POTOF",for:"near",cmd:"write",text:["talk","memo"],label:"内緒話",help:null},TSAY:{group:"POTOF",cmd:"write",text:["talk","memo"],label:"独り言",help:null},SSAY:{group:"POTOF",cmd:"write",text:["talk","memo","act"],label:"会話",help:null},VSAY:{group:"POTOF",cmd:"write",text:["talk","memo","act"],label:"会話",help:null},VGSAY:{group:"POTOF",cmd:"write",text:["talk","memo","act"],label:"会話",help:null}}},function(e,a,i){var r,t,o,n,c,l,s,d,_,u,m,f,h,g,p,b,j,A,y;for(({Set:n,Model:r,Query:t,Rule:o}=i(2)),j=["ririnra","wa","time","sf","mad","ger","changed","animal","school","all"],new o("tag").schema(function(){return this.belongs_to("chr_set"),this.habtm("faces",{reverse:!0}),this.tree(),this.model_property.chr_job={value:function(e){return t.chr_jobs.find(`${this.chr_set_id}_${e}`)}},this.scope(function(e){return{enable:function(){return e.where(function(e){return!e.disabled})}}})}),new o("face").schema(function(){var e;return this.habtm("tags"),this.has_many("chr_jobs"),this.has_many("chr_npcs"),this.scope(function(e){return{aggregate:function(a,i){var r;return r=function(){switch(i){case"order":case"date_min":return"asc";default:return"desc"}}(),e.tag(a).sort(i,r)},tag:function(a){switch(a){case"all":return e;default:return e.in({tag_ids:a})}},name_blank:function(){var a,i,r,t,o,n;for(n=[],i=a=t="ア".charCodeAt(0),o="ン".charCodeAt(0);t<=o?a<=o:a>=o;i=t<=o?++a:--a)r=String.fromCharCode(i),e.reduce.name_head.from[r]||n.push(r);return n},name_head:function(a="all"){return e.tag(a).reduce.name_head}}}),this.deploy(function(){return this.aggregate={sow_auths:[],mestypes:[],folders:[],roles:[],lives:[],log:{date_min:0xfffffffffffff,date_max:-0xfffffffffffff,story_ids:[]},fav:{_id:{sow_auth_id:null},count:0}},this.summary_url=`/summary/faces/${this._id}`}),e={count:1},this.model=class extends this.model{static order(e,a){return a("list",{sort:["order"]}),a("name_head",{sort:["id"],index:"set.length"})}static map_reduce(a,i){var r,t,o,n,c,l;for("†"===(r=a.name[0])&&(r=a.name[1]),i("all","all",e),i("name_head",r,{set:a.name}),c=[],t=0,o=(n=a.tag_ids).length;t<o;t++)l=n[t],c.push(i("tag",l,e));return c}},Object.assign(this.model_property,{roles:{get:function(){return this.aggregate.roles}},lives:{get:function(){return this.aggregate.lives}},sow_auths:{get:function(){return this.aggregate.sow_auths}},mestypes:{get:function(){return this.aggregate.mestypes}},folders:{get:function(){return this.aggregate.folders}},story_length:{get:function(){return this.aggregate.log.story_ids.length}},sow_auth_id:{get:function(){return this.aggregate.fav._id.sow_auth_id}},fav_count:{get:function(){return this.aggregate.fav.count}},date_max:{get:function(){return new Date(this.aggregate.log.date_max)-0}},date_min:{get:function(){return new Date(this.aggregate.log.date_min)-0}},date_range:{get:function(){return this.date_max-this.date_min}},jobs:{get:function(){return this.chr_jobs.pluck("job").uniq}}})}),new o("chr_set").schema(function(){return this.order("label"),this.has_many("chr_jobs"),this.has_many("chr_npcs")}),new o("chr_npc").schema(function(){return this.order("label"),this.belongs_to("chr_set"),this.belongs_to("face"),this.deploy(function(){return this._id=`${this.chr_set_id}_${this.face_id}`,this.chr_set_idx=j.indexOf(this.chr_set_id)})}),new o("chr_job").schema(function(){return this.order("face.order"),this.belongs_to("chr_set"),this.belongs_to("face"),this.deploy(function(){return this._id=`${this.chr_set_id}_${this.face_id}`,this.chr_set_idx=j.indexOf(this.chr_set_id)})}),n.tag.set(i(32)),n.face.set(i(33)),_=0,h=(A=i(34)).length;_<h;_++)({face_id:d,say:y}=A[_]),t.faces.find(d).npc={say:y};for(u=0,g=j.length;u<g;u++)f=j[u],b=i(35)(`./cs_${f}.yml`),n.chr_set.append(b.chr_set),({chr_set_id:c}=b.chr_set),l={chr_set_id:c},n.chr_npc.merge(b.chr_npc,l),n.chr_job.merge(b.chr_job,l);p=function(){var e,a,i,r,o;for(o=[],e=0,a=(i=t.faces.list).length;e<a;e++)s=i[e],c="all",d=s._id,null!=(m=null!=(r=s.chr_jobs.list.sort("chr_set_idx")[0])?r.job:void 0)&&o.push({chr_set_id:c,face_id:d,job:m});return o}(),n.chr_job.merge(p)},function(e,a){e.exports={all:{label:"すべて",long:"「人狼議事 ちゃんぷる」のキャラクター",chr_set_id:"all"},giji:{label:"人狼議事",long:"「人狼議事」のキャラクター",tag_id:"all",chr_set_id:"ririnra"},animal:{label:"うきうきサバンナ",long:"「うきうきサバンナ」のキャラクター",tag_id:"all",chr_set_id:"animal"},school:{label:"私立七転学園",long:"「私立七転学園」のキャラクター",tag_id:"all",chr_set_id:"school"},shoji:{label:"てやんでえ",long:"「和の国てやんでえ」のキャラクター",tag_id:"all",chr_set_id:"wa"},travel:{label:"帰還者議事",long:"「帰還者議事」のキャラクター",tag_id:"all",chr_set_id:"time"},stratos:{label:"明後日への道標",long:"「明後日への道標」のキャラクター",tag_id:"all",chr_set_id:"sf"},myth:{label:"はおうのひろば",long:"「はおうのひろば」のキャラクター",tag_id:"all",chr_set_id:"changed"},asia:{label:"大陸議事",long:"「大陸議事」のキャラクター",tag_id:"all",chr_set_id:"ger"},marchen:{label:"狂騒議事",long:"「狂騒議事」のキャラクター",tag_id:"all",chr_set_id:"mad"},kid:{label:"(児童)",long:"児童のキャラクター",tag_id:"giji",chr_set_id:"ririnra"},young:{label:"(若者)",long:"若者のキャラクター",tag_id:"giji",chr_set_id:"ririnra"},middle:{label:"(中年)",long:"中年のキャラクター",tag_id:"giji",chr_set_id:"ririnra"},elder:{label:"(老人)",long:"老人のキャラクター",tag_id:"giji",chr_set_id:"ririnra"},river:{label:"-運河-",long:"往く人来る人休む人",tag_id:"giji",chr_set_id:"ririnra"},road:{label:"-往来-",long:"往く人来る人休む人",tag_id:"giji",chr_set_id:"ririnra"},immoral:{label:"-裏道-",long:"街灯の裏の背徳達",tag_id:"giji",chr_set_id:"ririnra"},guild:{label:"-商工会-",long:"商人と職人の集うギルド",tag_id:"giji",chr_set_id:"ririnra"},elegant:{label:"-舞踏会-",long:"瀟洒な館の舞踏会",tag_id:"giji",chr_set_id:"ririnra"},ecclesia:{label:"-公教会-",long:"信仰と道徳と学識の源泉",tag_id:"giji",chr_set_id:"ririnra"},medical:{label:"-施療院-",long:"病苦毒霊と戦う砦",tag_id:"giji",chr_set_id:"ririnra"},market:{label:"-歌劇酒場-",long:"芸の極みに華が咲く",tag_id:"giji",chr_set_id:"ririnra"},apartment:{label:"-自室の窓-",long:"窓から外を眺めると",tag_id:"giji",chr_set_id:"ririnra"},servant:{label:"-使用人-",long:"良家を支えるスタッフ",tag_id:"giji",chr_set_id:"ririnra"},farm:{label:"-森の農場-",long:"森に接する田畑",tag_id:"giji",chr_set_id:"ririnra"},government:{label:"-統治公共-",long:"所領を治める権能者",tag_id:"giji",chr_set_id:"ririnra"},god:{label:"-かみさま-",long:"かみさま",tag_id:"all",chr_set_id:"all"}}},function(e,a){e.exports=[{_id:"c49",comment:"test",name:"ボリス",order:1,tag_ids:["animal","school","giji","guild","young"]},{_id:"c38",order:2,name:"コリーン",tag_ids:["animal","school","giji","market","young"]},{_id:"c77",order:3,name:"キャロライナ",tag_ids:["animal","school","giji","servant","road","farm","young"]},{_id:"c35",order:4,name:"ダン",tag_ids:["animal","school","giji","guild","middle"]},{_id:"c53",order:5,name:"ゼルダ",tag_ids:["animal","school","giji","government","farm","elegant","elder"]},{_id:"c74",order:6,name:"フランシスカ",tag_ids:["animal","school","giji","market","young"]},{_id:"c50",order:8,name:"ディーン",tag_ids:["animal","school","giji","government","guild","young"]},{_id:"c36",order:8,name:"ミッシェル",tag_ids:["animal","school","giji","guild","servant","young"]},{_id:"c26",order:8,name:"モニカ",tag_ids:["animal","school","giji","guild","young"]},{_id:"c09",order:9,name:"ヒロシ",tag_ids:["animal","school","giji","immoral","travel","river","middle"]},{_id:"c55",order:10,name:"パピヨン",tag_ids:["animal","school","giji","apartment","elegant","middle"]},{_id:"c29",order:11,name:"イアン",tag_ids:["animal","school","giji","guild","young"]},{_id:"c12",order:12,name:"バーナバス",tag_ids:["school","giji","servant","road","middle"]},{_id:"c16",order:127,name:"マリアンヌ",tag_ids:["animal","school","giji","apartment","market","medical","young"]},{_id:"c34",order:14,name:"トニー",tag_ids:["animal","animal","school","giji","road","servant","kid"]},{_id:"c44",order:15,name:"ドナルド",tag_ids:["animal","animal","school","giji","immoral","young"]},{_id:"c11",order:16,name:"カルヴィン",tag_ids:["animal","animal","school","giji","elegant","apartment","kid"]},{_id:"c10",order:17,name:"ゾーイ",tag_ids:["animal","travel","animal","school","giji","apartment","kid"]},{_id:"c70",order:18,name:"パティ",tag_ids:["animal","school","giji","servant","apartment","young"]},{_id:"c56",order:19,name:"ゴドウィン",tag_ids:["animal","school","giji","guild","market","middle"]},{_id:"c07",order:20,name:"ティモシー",tag_ids:["animal","school","giji","guild","elder"]},{_id:"c41",order:21,name:"ヤニク",tag_ids:["animal","school","giji","immoral","river","young"]},{_id:"c58",order:22,name:"ブルーノ",tag_ids:["animal","school","giji","ecclesia","middle","elder"]},{_id:"c17",order:23,name:"ユリシーズ",tag_ids:["animal","school","giji","market","middle"]},{_id:"c39",order:24,name:"シビル",tag_ids:["animal","school","giji","servant","guild","middle"]},{_id:"c40",order:25,name:"ハワード",tag_ids:["animal","school","giji","servant","elder"]},{_id:"c65",order:26,name:"ズリエル",tag_ids:["animal","school","giji","immoral","middle"]},{_id:"c59",order:27,name:"ムパムピス",tag_ids:["animal","school","giji","ecclesia","young"]},{_id:"c57",order:28,name:"ツェツィーリヤ",tag_ids:["animal","school","giji","ecclesia","young","middle"]},{_id:"c04",order:29,name:"ノーリーン",tag_ids:["animal","animal","school","giji","servant","middle"]},{_id:"c46",order:30,name:"ゲイル",tag_ids:["animal","school","giji","apartment","medical","young","middle"]},{_id:"c14",order:31,name:"レティーシャ",tag_ids:["animal","school","giji","ecclesia","kid"]},{_id:"c42",order:33,name:"ラルフ",tag_ids:["animal","school","giji","servant","young"]},{_id:"c37",order:34,name:"セシル",tag_ids:["animal","school","giji","market","young"]},{_id:"c75",order:35,name:"ビリー",tag_ids:["animal","school","giji","market","middle"]},{_id:"c32",order:36,name:"オスカー",tag_ids:["animal","school","giji","apartment","kid"]},{_id:"c33",order:37,name:"ホリー",tag_ids:["animal","school","giji","apartment","kid"]},{_id:"c02",order:38,name:"アルフレッド",tag_ids:["animal","animal","school","giji","government","middle"]},{_id:"c66",order:39,name:"クリストファー",tag_ids:["animal","school","giji","servant","guild","farm","middle"]},{_id:"c24",order:41,name:"ナタリア",tag_ids:["animal","school","giji","government","apartment","elder"]},{_id:"c79",order:42,name:"マーゴ",tag_ids:["animal","school","giji","government","apartment","young"]},{_id:"c61",order:43,name:"ヌマタロウ",tag_ids:["animal","school","giji","river","farm","elder"]},{_id:"c23",order:44,name:"チャールズ",tag_ids:["animal","school","giji","ecclesia","middle"]},{_id:"c28",comment:"",name:"ケイト",order:47,tag_ids:["animal","school","giji","apartment","young"]},{_id:"c68",order:48,name:"ヨアヒム",tag_ids:["animal","school","giji","market","immoral","elegant","middle","elder"]},{_id:"c30",order:49,name:"フィリップ",tag_ids:["animal","school","giji","road","river","market","young"]},{_id:"c21",order:50,name:"ニール",tag_ids:["animal","school","giji","farm","guild","young","middle"]},{_id:"c52",order:52,name:"ギリアン",tag_ids:["animal","school","giji","medical","ecclesia","young"]},{_id:"c51",order:53,name:"ヨーランダ",tag_ids:["animal","school","giji","medical","ecclesia","young"]},{_id:"c01",comment:"",name:"メアリー",order:55,tag_ids:["animal","animal","school","giji","market","road","young"]},{_id:"c69",order:56,name:"ギネス",tag_ids:["animal","school","giji","guild","market","middle"]},{_id:"c63",order:57,name:"ピッパ",tag_ids:["animal","school","giji","guild","young"]},{_id:"c05",order:59,name:"キャサリン",tag_ids:["animal","animal","school","giji","medical","young"]},{_id:"c22",order:60,name:"ワット",tag_ids:["animal","school","giji","farm","middle"]},{_id:"c62",order:61,name:"ヴェラ",tag_ids:["animal","school","giji","immoral","river","middle"]},{_id:"c13",order:62,name:"ロミオ",tag_ids:["animal","school","giji","medical","elder"]},{_id:"c18",order:63,name:"エマ",tag_ids:["animal","school","giji","medical","elder"]},{_id:"c27",order:65,name:"リンダ",tag_ids:["animal","school","giji","farm","young"]},{_id:"c08",order:66,name:"ベネット",tag_ids:["animal","school","giji","guild","young"]},{_id:"c19",order:67,name:"タバサ",tag_ids:["animal","school","giji","immoral","market","young"]},{_id:"c71",order:70,name:"ノックス",tag_ids:["animal","school","giji","road","farm","young"]},{_id:"c03",order:71,name:"スティーブン",tag_ids:["animal","animal","school","giji","medical","middle"]},{_id:"c43",order:72,name:"ガストン",tag_ids:["animal","school","giji","farm","middle"]},{_id:"c15",order:73,name:"ウェーズリー",tag_ids:["animal","school","giji","government","road","middle"]},{_id:"c54",order:75,name:"ザック",tag_ids:["animal","school","giji","guild","medical","young"]},{_id:"c25",order:77,name:"ルーカス",tag_ids:["animal","school","giji","elegant","young"]},{_id:"c20",order:79,name:"グロリア",tag_ids:["animal","school","giji","elegant","young"]},{_id:"c72",order:81,name:"ヴェスパタイン",tag_ids:["animal","school","giji","guild","young"]},{_id:"c73",order:83,name:"ローズマリー",tag_ids:["animal","school","giji","immoral","market","young"]},{_id:"c47",order:85,name:"ペラジー",tag_ids:["animal","school","giji","ecclesia","river","young"]},{_id:"c80",order:87,name:"テッド",tag_ids:["animal","school","giji","road","apartment","young"]},{_id:"c96",name:"レオナルド",comment:"2011/12/11",order:89,tag_ids:["animal","school","giji","government","ecclesia","middle"]},{_id:"c95",name:"モリス",comment:"2011/12/11",order:91,tag_ids:["animal","school","giji","guild","road","young"]},{_id:"c97",name:"ジェフ",comment:"2011/12/14 超常現象はあるんだ…",order:93,tag_ids:["animal","school","giji","government","river","young","middle"]},{_id:"c98",name:"オズワルド",comment:"2011/12/29 この髭はぜったいワックス使ってる。",order:95,tag_ids:["animal","school","giji","immoral","river","middle"]},{_id:"c100",name:"グレッグ",comment:"2012/12/30 スポーツ系中学生くらいに見える",order:97,tag_ids:["animal","school","giji","guild","young"]},{_id:"c101",name:"クラリッサ",comment:"2011/12/30 美人さん♪",order:99,tag_ids:["animal","school","giji","servant","apartment","young"]},{_id:"c90",name:"ケヴィン",comment:"2011/12/06",order:125,tag_ids:["animal","school","giji","government","river","farm","young"]},{_id:"c88",name:"ピエール",order:126,comment:"2011/12/05",tag_ids:["animal","school","giji","servant","market","middle"]},{_id:"c89",name:"カトリーナ",comment:"2011/12/06",order:128,tag_ids:["animal","school","giji","apartment","young"]},{_id:"c84",name:"ブレンダ",order:129,comment:"2011/12/05",tag_ids:["animal","school","giji","apartment","middle"]},{_id:"c85",name:"ハナ",order:130,comment:"2011/12/05",tag_ids:["animal","school","giji","road","servant","kid"]},{_id:"c91",comment:"2011/12/06 姦しい奥様♪",name:"ドロシー",order:143,tag_ids:["animal","school","giji","river","servant","middle"]},{_id:"c92",comment:"2011/12/06 姦し娘ーず♪",name:"セレスト",order:144,tag_ids:["animal","school","giji","river","servant","young"]},{_id:"c93",comment:"2011/12/06 えー○○が許されるのは小学生までだよねー♪",name:"ベッキー",order:145,tag_ids:["animal","school","giji","river","servant","young"]},{_id:"c78",order:150,name:"ネイサン",tag_ids:["animal","school","giji","market","middle"]},{_id:"c82",order:148,name:"ロビン",tag_ids:["animal","school","giji","servant","kid"]},{_id:"c94",name:"ダーラ",comment:"2011/12/11",order:165,tag_ids:["animal","school","giji","elegant","immoral","market","middle"]},{_id:"c64",order:180,name:"ヘクター",tag_ids:["animal","school","giji","immoral","middle"]},{_id:"c81",order:190,name:"サイラス",tag_ids:["animal","school","giji","medical","guild","farm","young"]},{_id:"c67",order:200,name:"ソフィア",tag_ids:["animal","school","giji","guild","young"]},{_id:"c76",order:210,name:"ジョージ",tag_ids:["animal","school","giji","apartment","kid"]},{_id:"c60",order:213,name:"ポーチュラカ",tag_ids:["animal","school","giji","elegant","kid"]},{_id:"c87",name:"エリアス",order:217,comment:"2011/12/05",tag_ids:["animal","school","giji","elegant","medical","young"]},{_id:"c45",order:220,name:"プリシラ",tag_ids:["animal","school","giji","immoral","young"]},{_id:"c48",order:225,name:"ビアンカ",tag_ids:["animal","school","giji","elegant","middle","elder"]},{_id:"c86",name:"ホレーショー",order:230,comment:"2011/12/05",tag_ids:["animal","school","giji","immoral","apartment","middle"]},{_id:"c83",order:240,name:"アイリス",tag_ids:["marchen","animal","school","giji","road","medical","market","young"]},{_id:"c31",order:250,name:"ネル",tag_ids:["animal","school","giji","guild","apartment","young"]},{_id:"c99",order:999,name:"サイモン",tag_ids:["animal","school","giji","apartment","young","middle"]},{order:10001,name:"露蝶",comment:"中国女性名",_id:"g01",tag_ids:["asia"]},{order:215,name:"志偉",comment:"台湾男性名 越南の名前も探したかったが、見つからぬ…",_id:"g02",tag_ids:["asia"]},{order:10003,name:"芙蓉",comment:"里帰り",_id:"g03",tag_ids:["asia"]},{order:10004,name:"沼太郎",comment:"里帰り",_id:"gc61",tag_ids:["asia"]},{name:"デメテル",comment:"阿片窟からきました",order:20001,_id:"mad01",tag_ids:["marchen"]},{name:"エルゴット",comment:"阿片窟からきました",order:245,_id:"mad02",tag_ids:["marchen"]},{name:"シーシャ",comment:"阿片窟からきました",order:223,_id:"mad03",tag_ids:["marchen"]},{name:"ドリベル",comment:"阿片窟からきました",order:20004,_id:"mad04",tag_ids:["marchen"]},{name:"ヤヘイ",comment:"阿片窟からきました",order:1010,_id:"mad05",tag_ids:["marchen"]},{name:"アヤワスカ",comment:"阿片窟からきました",order:236,_id:"mad06",tag_ids:["marchen"]},{name:"チアキ",comment:"時をかける少女",order:30001,_id:"t01",tag_ids:["travel"]},{name:"リッキィ",comment:"夏への扉",order:30002,_id:"t02",tag_ids:["travel"]},{name:"ミナカタ",comment:"ー仁ー",order:156,_id:"t03",tag_ids:["travel"]},{name:"カイル",comment:"サラ・コナー・クロニクルズ",order:30004,_id:"t04",tag_ids:["travel"]},{name:"ジェニファー",comment:"バック・トゥ・ザ・フューチャー",order:30005,_id:"t05",tag_ids:["travel"]},{_id:"m99",order:70001,name:"パルック",tag_ids:["myth"]},{_id:"m06",order:70002,name:"リリンラ",tag_ids:["myth"]},{_id:"m03",order:70003,name:"トノサマ",tag_ids:["myth"]},{_id:"m05",order:70004,name:"ナナコロ",tag_ids:["myth"]},{_id:"m15",order:70005,name:"ミソチャ",tag_ids:["myth"]},{_id:"m07",order:70006,name:"アリス",tag_ids:["myth"]},{_id:"r30",order:70006,name:"トリ",tag_ids:["myth"]},{_id:"m01",order:70007,name:"ケムシ",tag_ids:["myth"]},{_id:"m02",order:70008,name:"ポプラ",tag_ids:["myth"]},{_id:"m04",order:70009,name:"アオイ",tag_ids:["myth"]},{_id:"b44",comment:"",name:"ドナルド",order:70010,tag_ids:["myth"]},{_id:"m08",order:70011,name:"おっぱい",tag_ids:["myth"]},{_id:"m09",order:70012,name:"カミジャー",tag_ids:["myth"]},{_id:"r12",order:12,name:"バーナバス",tag_ids:[]},{_id:"b49",comment:"",name:"ボリス",order:70012,tag_ids:["myth"]},{_id:"m10",order:70013,name:"アチャポ",tag_ids:["myth"]},{_id:"m12",comment:"",name:"トルニトス",order:70014,tag_ids:["myth"]},{_id:"m11",order:70015,name:"ライトニング",tag_ids:["myth"]},{_id:"m13",order:70016,name:"ミケ",tag_ids:["myth"]},{_id:"m14",order:70017,name:"カリュクス",tag_ids:["myth"]},{_id:"sf01",order:8e4,name:"ラッシード",comment:"りしあさん＆かれやなぎさん",tag_ids:["stratos"]},{_id:"sf02",order:80001,name:"エスペラント",comment:"ふらぅさん＆かれやなぎさん",tag_ids:["stratos"]},{_id:"sf03",order:80002,name:"ピート",comment:"たるっとさん＆りちゃさん",tag_ids:["stratos"]},{_id:"sf04",order:80003,name:"アシモフ",comment:"あすたん＆りりんら",tag_ids:["stratos"]},{_id:"sf05",order:80004,name:"モナリザ",comment:"ななころび＆りりんら",tag_ids:["stratos"]},{_id:"sf06",order:80005,name:"ワレンチナ",comment:"まりもさん＆あずまさん",tag_ids:["stratos"]},{_id:"sf07",order:80007,name:"ヤンファ",comment:"りしあさん＆はむおくん",tag_ids:["stratos"]},{_id:"sf08",order:80008,name:"ＰＪ",comment:"りしあさん＆ふらぅさん",tag_ids:["stratos"]},{_id:"sf09",order:80009,name:"キリシマ",comment:"ななころび＆ふらぅさん",tag_ids:["stratos"]},{_id:"sf10",order:80010,name:"ナユタ",comment:"かれやなぎさん＆かいさん",tag_ids:["stratos"]},{_id:"sf11",order:80011,name:"イワノフ",comment:"かれやなぎさん＆りちゃさん",tag_ids:["stratos"]},{order:80012,name:"†ルシフェル†",comment:null,_id:"sf12",tag_ids:["stratos"]},{order:80013,name:"トルドヴィン",comment:null,_id:"sf13",tag_ids:["stratos"]},{order:80014,name:"玖休",comment:null,_id:"sf18",tag_ids:["stratos"]},{order:80015,name:"参休",comment:null,_id:"sf19",tag_ids:["stratos"]},{order:80016,name:"クリスマス",comment:null,_id:"sf14",tag_ids:["stratos"]},{order:80017,name:"ジェームス",comment:null,_id:"sf15",tag_ids:["stratos"]},{order:80018,name:"ライジ",comment:null,_id:"sf16",tag_ids:["stratos"]},{order:80019,name:"ジャック",comment:null,_id:"sf17",tag_ids:["stratos"]},{_id:"w05",order:90001,name:"定吉",comment:"ぷえるとりこの旅人　エージ―エー",tag_ids:["shoji"]},{_id:"w21",order:90002,name:"鉄平",comment:"日本の伝統　熊木彫",tag_ids:["shoji"]},{_id:"w22",order:90003,name:"竹三",comment:"雪国の風雅　熊木彫",tag_ids:["shoji"]},{_id:"w36",order:90004,name:"ウト",tag_ids:["shoji"]},{_id:"w16",order:90005,name:"勢",comment:"ぶたさん印の　あおいジンギスカン",tag_ids:["shoji"]},{_id:"w18",order:90006,name:"菊",tag_ids:["shoji"]},{_id:"w26",order:90007,name:"勝丸",tag_ids:["shoji"]},{_id:"w35",comment:"",name:"奈須麿",order:90008,tag_ids:["shoji"]},{_id:"w24",order:90009,name:"辰次",comment:"桃源郷ぐた国のめぐみ　ふらう乳業",tag_ids:["shoji"]},{_id:"w37",order:90010,name:"芙蓉",tag_ids:["shoji"]},{_id:"w29",order:90011,name:"志乃",tag_ids:["shoji"]},{_id:"w20",order:90012,name:"藤之助",tag_ids:["shoji"]},{_id:"w31",order:90013,name:"日向",tag_ids:["shoji"]},{_id:"w12",order:90014,name:"おみつ",comment:"道を外して60年　GEDOU協会",tag_ids:["shoji"]},{_id:"w10",order:90015,name:"博史",tag_ids:["shoji"]},{_id:"w25",order:90016,name:"法泉",tag_ids:["shoji"]},{_id:"w09",order:90017,name:"チャールズ",comment:"チャールズ派遣ならおまかせ　O-ririn",tag_ids:["shoji"]},{_id:"w30",order:90018,name:"雪代",tag_ids:["shoji"]},{_id:"w14",order:90019,name:"華月斎",comment:"めげないゼラチン作り　MEGEゼラチン",tag_ids:["shoji"]},{_id:"w13",order:90020,name:"たまこ",comment:"世界の道をつなぐ　議事国地図",tag_ids:["shoji"]},{_id:"w11",order:90021,name:"沼太郎",tag_ids:["shoji"]},{_id:"w03",order:90022,name:"朔",comment:"新しい議事をつくる　たき学会",tag_ids:["shoji"]},{_id:"w34",order:90023,name:"余四朗",tag_ids:["shoji"]},{_id:"w27",order:90024,name:"源蔵",tag_ids:["shoji"]},{_id:"w28",order:90025,name:"甚六",tag_ids:["shoji"]},{_id:"w17",order:90026,name:"雷門",comment:"輝く月に未来を託す　暁月商事",tag_ids:["shoji"]},{_id:"w39",comment:"",name:"沙耶",order:90027,tag_ids:["shoji"]},{_id:"w08",order:90028,name:"朝顔",tag_ids:["shoji"]},{_id:"w43",order:90029,name:"春松",tag_ids:["shoji"]},{_id:"w07",order:90030,name:"夕顔",tag_ids:["shoji"]},{_id:"w40",order:90031,name:"朧",tag_ids:["shoji"]},{_id:"w33",comment:"",name:"団十郎",order:90032,tag_ids:["shoji"]},{_id:"w23",order:90033,name:"仁右衛門",tag_ids:["shoji"]},{_id:"w04",order:90034,name:"小鈴",comment:"お口の愛人　タルッティ・タルット",tag_ids:["shoji"]},{_id:"w06",order:90035,name:"ゆり",comment:"道を外して60年　GEDOU協会",tag_ids:["shoji"]},{_id:"w38",comment:"",name:"一平太",order:90037,tag_ids:["shoji"]},{_id:"w01",order:90038,name:"鏡花",comment:"輝く月に未来を託す　暁月商事",tag_ids:["shoji"]},{_id:"w15",order:90039,name:"八重",comment:"桃源郷ぐた国のめぐみ　ふらう乳業",tag_ids:["shoji"]},{_id:"w32",order:90040,name:"明之進",tag_ids:["shoji"]},{_id:"w02",order:90041,name:"慶三郎",comment:"カメラのことなら　MISEKI",tag_ids:["shoji"]},{_id:"w44",name:"雪客",comment:"りりんラハウス呑んだくれ大会",order:90042,tag_ids:["shoji"]},{_id:"w45",name:"亀吉",comment:"りりんラハウス呑んだくれ大会",order:90043,tag_ids:["shoji"]},{_id:"w46",name:"梅子",order:90044,comment:"お誕生日記念☆",tag_ids:["shoji"]},{face_id:"w47",name:"置壱",comment:"日本の美徳強化月間",order:90045,_id:"w47",tag_ids:["shoji"]},{face_id:"all",name:"パルック",order:99999,_id:"all",tag_ids:["god"]},{_id:"g04",name:"攻芸",comment:"台湾男性名",order:10005,tag_ids:["asia"]},{_id:"g05",name:"麻雀",comment:"中国女性名",order:170,tag_ids:["asia"]},{_id:"g06",name:"黍炉",comment:"ダリダイ・オッチギン",order:10007,tag_ids:["asia"]},{_id:"mad07",name:"ダイミ",comment:"阿片窟からきました",order:20007,tag_ids:["marchen"]},{_id:"mad08",name:"エフェドラ",comment:"阿片窟からきました",order:20008,tag_ids:["marchen"]},{_id:"t06",name:"サミュエル",comment:"トランスフォーマー",order:30006,tag_ids:["travel"]},{_id:"t07",name:"アカリ",comment:"時をかける少女",order:30019,tag_ids:["travel"]},{_id:"t08",name:"ミルフィ",comment:"海賊戦隊ゴーカイジャー",order:30020,tag_ids:["travel"]},{_id:"t09",name:"ゴロウ",comment:"時をかける少女",order:30009,tag_ids:["travel"]},{_id:"t10",name:"トレイル",comment:"ゼルダの伝説 ムジュラの仮面",order:30010,tag_ids:["travel"]},{_id:"t11",name:"マドカ",comment:"宇宙戦艦ヤマモト・ヨーコ",order:30019,tag_ids:["travel"]},{_id:"t12",name:"フランク",comment:"オーロラの彼方へ",order:30012,tag_ids:["travel"]},{_id:"t13",name:"ジャニス",comment:"フラッシュフォワード",order:30013,tag_ids:["travel"]},{_id:"c105",comment:"年末カウントダウン♪",name:"シメオン",order:82,tag_ids:["animal","school","giji","apartment","ecclesia","young"]},{_id:"c104",comment:"年末カウントダウン♪",name:"ヒュー",order:89,tag_ids:["animal","school","giji","medical","young"]},{_id:"c106",comment:"年末カウントダウン♪",name:"ワンダ",order:90,tag_ids:["animal","school","giji","river","guild","middle"]},{_id:"c108",name:"ブローリン",comment:"年末カウントダウン♪",order:91,tag_ids:["animal","school","giji","farm","young","middle"]},{_id:"c109",name:"ラディスラヴァ",comment:"年末カウントダウン♪",order:185,tag_ids:["animal","school","giji","apartment","young"]},{_id:"c102",comment:"年末カウントダウン♪",name:"ウォーレン",order:155,tag_ids:["animal","school","giji","market","elder"]},{_id:"c107",name:"イヴォン",comment:"年末カウントダウン♪",order:205,tag_ids:["animal","school","giji","elegant","middle","elder"]},{_id:"c103",comment:"年末カウントダウン♪",name:"ナンシー",order:234,tag_ids:["animal","school","giji","apartment","young"]},{_id:"t14",name:"クシャミ",comment:"吾輩は猫である。",order:30014,tag_ids:["travel"]},{_id:"t15",name:"ガーディ",comment:"ベイカー街少年探偵団",order:30015,tag_ids:["travel"]},{_id:"sf20",name:"ティソ",comment:null,order:80020,tag_ids:["stratos"]},{_id:"g07",name:"ジリヤ",comment:"ロシア女性名",order:10008,tag_ids:["asia"]},{_id:"t16",name:"アラン",comment:"映画監督たちの共用偽名",order:30016,tag_ids:["travel"]},{_id:"w48",name:"直円",comment:"和算復活月間",order:90048,tag_ids:["shoji"]},{_id:"w49",name:"錠",comment:"ポルトガル人にジオゴっているんだぜ。へー。かっこいー。",order:90049,tag_ids:["shoji"]},{_id:"w50",name:"丁助",comment:"負けるたびに追い博打",order:90050,tag_ids:["shoji"]},{_id:"t17",name:"ススム",comment:"おもいっきり探偵団 覇悪怒組",order:30018,tag_ids:["travel"]},{_id:"t18",name:"マユミ",comment:"まんがはじめて物語（二代目）",order:30018,tag_ids:["travel"]},{_id:"c110",name:"リー",comment:"",order:92,tag_ids:["giji","immoral","apartment","young"]},{_id:"t19",name:"ハルカ",comment:"はるかリフレイン",order:30017,tag_ids:["travel"]},{_id:"w51",name:"鬼丞",comment:"リニューアル記念！",order:90051,tag_ids:["shoji"]},{_id:"w52",name:"櫻子",comment:"リニューアル記念！",order:90052,tag_ids:["shoji"]},{_id:"c111",name:"スージー",comment:"リニューアル記念！ 弟がいるという噂が…",order:160,tag_ids:["giji","apartment","elegant","immoral","young"]},{_id:"c113",name:"ジェレミー",comment:"リニューアル記念！",order:228,tag_ids:["giji","apartment","immoral","young","middle"]},{_id:"c112",name:"ニコラス",comment:"！？",order:128,tag_ids:["giji","elegant","young"]},{_id:"m16",name:"アーサー",comment:"円卓の騎士",order:70018,tag_ids:["myth"]},{_id:"t20",name:"エリ",comment:"英国情報局秘密組織チェラブ (CHERUB)",order:30022,tag_ids:["travel"]},{_id:"g08",name:"イワン",comment:"Иван-дурак",order:10009,tag_ids:["asia"]},{_id:"c114",name:"モンド",comment:"８８件のご応募、ありがとう。そして、ありがとう。",order:131,tag_ids:["giji","government","immoral","middle"]},{_id:"m18",name:"ミーム",comment:"インターネット・ミームから。 えんいー",order:70020,tag_ids:["myth"]},{_id:"m19",name:"タルト",comment:"https://twitter.com/7korobi/status/510069062974447617",order:70021,tag_ids:["myth"]},{_id:"m20",name:"ショコラ",comment:"https://twitter.com/noa_marimo/status/510100541536358400",order:70022,tag_ids:["myth"]},{_id:"c115",name:"マリオ",comment:"じつは、牧場育ちらしいよ。",order:132,tag_ids:["giji","guild","road","kid"]},{_id:"t21",name:"トシミ",comment:"代紋TAKE2",order:30019,tag_ids:["travel"]},{_id:"t22",name:"ケイイチ",comment:"ひぐらしのなく頃に",order:30021,tag_ids:["travel"]},{_id:"w53",name:"おもん",comment:"三拾糎程の「もふもふねこひよこ」　せんいち",order:90053,tag_ids:["shoji"]},{_id:"sf021",name:"アンタレス",comment:"",order:80022,tag_ids:["stratos"]},{_id:"sf023",name:"エフ",comment:"",order:80023,tag_ids:["stratos"]},{_id:"sf024",name:"アイライト",comment:"",order:80024,tag_ids:["stratos"]},{_id:"sf025",name:"アマルテア",comment:"",order:80006,tag_ids:["stratos"]},{_id:"sf026",name:"ポーラ",comment:"",order:80026,tag_ids:["stratos"]},{_id:"sf022",name:"チェビイ",comment:"",order:80027,tag_ids:["stratos"]},{_id:"sf027",name:"モスキート",comment:"",order:80028,tag_ids:["stratos"]},{_id:"sf032",name:"ワクラバ",comment:"",order:80029,tag_ids:["stratos"]},{_id:"sf028",name:"コータ",comment:"",order:80030,tag_ids:["stratos"]},{_id:"sf029",name:"ミツボシ",comment:"",order:80031,tag_ids:["stratos"]},{_id:"sf030",name:"クレパスキュール",comment:"",order:80032,tag_ids:["stratos"]},{_id:"sf031",name:"シルク",comment:"",order:80033,tag_ids:["stratos"]},{_id:"t23",name:"ナナオ",comment:"",order:30023,tag_ids:["travel"]},{_id:"t24",name:"キルロイ",comment:"「キルロイここに現る」",order:30024,tag_ids:["travel"]},{_id:"t25",name:"ミサキ",comment:"",order:30025,tag_ids:["travel"]},{_id:"t26",name:"アツタネ",comment:"平田篤胤",order:30026,tag_ids:["travel"]},{_id:"t27",name:"みょんこ",comment:"",order:30027,tag_ids:["travel"]},{_id:"t28",name:"リツ",comment:"",order:30028,tag_ids:["travel"]},{_id:"t29",name:"ヒナコ",comment:"",order:30020,tag_ids:["travel"]},{_id:"t30",name:"ワタヌキ",comment:"四月朔日",order:30030,tag_ids:["travel"]},{_id:"t31",name:"ホウイチ",comment:"",order:158,tag_ids:["travel"]},{_id:"t32",name:"トヨタ",comment:"洋画の日本人名",order:30032,tag_ids:["travel"]},{_id:"t33",name:"エツコ",comment:"",order:30033,tag_ids:["travel"]},{_id:"t34",name:"ドン",comment:"",order:17,tag_ids:["travel"]},{_id:"c116",name:"メルヤ",comment:"",order:116,tag_ids:["giji","medical","immoral","young"]},{_id:"c117",name:"ルパート",comment:"",order:135,tag_ids:["giji","road","guild","elder"]},{_id:"c118",name:"ユージン",comment:"",order:118,tag_ids:["giji","river","young","middle"]},{_id:"c119",name:"オーレリア",comment:"",order:119,tag_ids:["giji","ecclesia","young"]},{_id:"c120",name:"ノア",comment:"",order:120,tag_ids:["giji","servant","young","middle"]},{_id:"t35",name:"イスルギ",comment:"",order:30020,tag_ids:["travel"]},{_id:"c121",name:"ブッカ",comment:"ブッカ・ホワイト氏から。",order:121,tag_ids:["giji","farm"]},{_id:"mad09",name:"カナビス",comment:"ウパニシャッドの精神で",order:20009,tag_ids:["marchen"]},{_id:"mad10",name:"ルグレ",comment:"後悔あとをたたず",order:20010,tag_ids:["marchen"]},{_id:"mad11",name:"オルギア",comment:"ええじゃないかええじゃないかー！",order:20011,tag_ids:["marchen"]},{_id:"sf033",name:"イースター",comment:null,order:80033,tag_ids:["stratos"]},{_id:"sf034",name:"アニュ",order:80034,tag_ids:["stratos"]},{_id:"sf035",name:"キャンディ",comment:null,order:80035,tag_ids:["stratos"]},{_id:"sf036",name:"キカ",order:80036,tag_ids:["stratos"]},{_id:"sf037",name:"バンアレン",order:80037,tag_ids:["stratos"]},{_id:"sf038",name:"パラチーノ",order:80038,tag_ids:["stratos"]},{_id:"t36",name:"イルマ",comment:"KKKてきな何か。",order:30036,tag_ids:["travel"]},{_id:"t37",name:"シュンタロ",comment:"国語の教科書から。",order:30009,tag_ids:["travel"]},{_id:"t38",name:"スズキ",comment:"人の死なない推理小説『黒後家蜘蛛の会』のそばに",order:30038,tag_ids:["travel"]},{_id:"t39",name:"ガモウ",comment:"そろそろ聖戦士が欲しかった！",order:30018.1,tag_ids:["travel"]}]},function(e,a){e.exports=[{label:"和の国てやんでえ",face_id:"w17",say:["嗚呼、聞こえる。やつの足音が聞こえる……。","逃げろ。逃げろ！おまえらだけでも逃げろ。"]},{label:"和の国てやんでえ（仁右衛門）",face_id:"w23",say:["なんと、これは奇っ怪……分かったゾ！","やっぱり人狼は実在するんだヨ！　うっひょひょーい！"]},{label:"エクスパンション・セット「帰還者議事」",face_id:"c10",say:["M4ライフルを持ってさえいれば…、なーんて、思っててもしょうがないね。鍵かけとこう。","やっぱさ、銃を持った善人がいないとさ。\n\nちょっと出かけてくる！プリン食べちゃダメだよ！"]},{label:"明後日への道標",face_id:"sf04",say:["とたたたたんっ。\n\n***\n> めざましい速さで木の洞に駆け込むと、じっと潜んだ暗闇に瞳がふたつ。いちど大好きな閉所に収まると、そうかんたんに出てはこないのだ。","ちゅー！\n\n　ちゅー！\n\n***\n> がりがり、がりがり。ケージの縁をひっかくと、うろうろ、うろうろ右へ左へ駆け回る。木の洞に目もくれず、夜中じゅう走り続けるのだった……"]},{label:"明後日への道標（ナユタ）",face_id:"sf10",say:["f\\*ck！またチオチモリンと二酸化炭素分圧だし！\nエアコンがコンタミるしスタグるしf\\*ck'nオーロラの季節だし、ガルタイトもサクラダイトもf\\*ck'n高っけーし…\n\n***\n> #### 同日 整備日誌\n> 　定期点検。ただちに健康に影響はないが、擦過痕…","よーf*ck'nおまえら。\nマジ聞け。エヴァってでかい１０円キズ見つけた。誰だし？\nマジ怒んねーから手ぇ挙げ\n\n###### ぷつん\n\nっと。瞬停った…。f*ck。\nちょっと外の様子見てくる。俺のプリン残しといてくれよ。"]},{label:"人狼議事（キャサリン）",face_id:"c05",say:["たいへん、たいへん、たいへん！","大変、人狼が出たよ！　いつもは嘘だけど、今度は本当の本当に本当！"]},{label:"人狼議事（ベネット）",face_id:"c08",say:["壁の向こうだ、やつの足音が聞こえる。いよいよ隣室に迫る。\n明日は、もう……","足音が部屋の前で止まった。そして、ドアノブがゆっくりと回る音が聞こえる。振り向いてはいけない、振り向けば\n\n***\n> 日記はそこで途切れ、発見されるまで打ち捨てられていた。"]},{label:"人狼議事（タバサ）",face_id:"c19",say:["ねぇ、遊んでかない？今夜はあなたが狼よ……","人狼なんているわけないじゃん？みんな大げさなのさ。"]},{label:"人狼議事（ソフィア）",face_id:"c67",say:["こんばんわ、こんな遅くにたいへんですね。\n\n………\n行っちゃった。へんなの。","まさかあの時、あのひとが……？\n人殺しと一緒にいるなんて……！へや…、部屋に戻らせてもらいます！"]},{label:"人狼議事（ヨアヒム）",face_id:"c68",say:["ふひ、ふひひ！人狼になど……くれてやるものかヨ！","人殺しと一緒にいるなんてごめんだヨ！へ…へっ、部屋に戻らせてもらうヨ！"]},{label:"人狼議事（ヴェスパタイン）",face_id:"c72",say:["嗚呼、聞こえる。やつの足音が聞こえる……。","逃げろ。逃げろ！おまえらだけでも逃げろ。"]},{label:"人狼議事（ヨーランダ）",face_id:"c51",say:["夜風に乗って、遠くから声がとどきます。昨夜は幽かに。今夜は響き。きっと明日は……","……あの、わたし。この騒ぎが落ち着いたら此処を出たいんです。\n幼馴染から手紙が来たの。お金を貯めたから、遠くで一緒に暮らそうって。"]},{label:"人狼議事（グロリア）",face_id:"c20",say:["紳士ならびに淑女の皆様、わたくしの館へようこそ。\n世間の噂など唯の噂話、此処でひととき御寛ぎなさいな。","ちょっと！そこの貴方、何をしているの！\n聞いたでしょう人狼がいるのよ、はやく見つけて処刑なさい！"]},{label:"人狼議事（オスカー）",face_id:"c32",say:["…そっちじゃないよ、こっちだよ。\nここ、秘密基地なんだ。雨もへいきだし暖かいよ。","ねえ。見て見て。パン持ってきたんだ。\nみんなにはナイショだよ？"]},{label:"人狼議事",face_id:"c99",say:["嗚呼、聞こえ る。やつの足音が聞こえる……。","逃げろ。逃げろ！おまえらだけでも逃げろ。"]},{label:"エクスパンション・セット「狂騒議事」",face_id:"c83",say:["どうせ、殺されるわみんな。…みんな\n\n\n~~死ねばいいのに~~","１人になるのゎ私ばっか。どっちの道ぉ選んでも、\n私ゎ十分です。明日も待っててね。お願いだから、\n離れて行かないで？\nいつまでも、\nなんで私ばっか\n\n***\n> 日記はそこで途切れ、発見されるまで打ち捨てられていた。"]},{label:"エクスパンション・セット「狂騒議事」（ヤヘイ）",face_id:"mad05",say:["…うん。もうな、だいぶまえだ。\n借家住まいでさ、天井板がずれて、開いているから入り込んでみたんだ。\n\n結構広くてさ。奥へ、奥へ、這い進んでたら明かりが切れてさ。\nもう右も左もわからなくってさあ…。\n\n必死に暴れたら、明るいとこに出た。\n知らない街だった。","…うん。そうだよ。\nまだ、その街から出られないんだ。おまえだって、そうなんだろう？\n\nあー、あっち。いや、こっちかも？\nそっちの先はまだ手繰ってないかもしれねえよ？\nウケッ、ウケッ、ウケコッ、ウコケ、ウコケ、ウヒャホ、コケコケコケ！"]},{label:"エクスパンション・セット「大陸議事」",face_id:"g03",say:["まさか……これは……？\n\n真相が分かったわ！\n日が出たらすぐ、麓の皆に知らせないと！","飛車が…壊れてる……\n葛橋が…焼けてる……\n\n！　なんだ、猫か……。おどかさないでよ。\nん？"]},{label:"とのさま広場",face_id:"m08",say:["じんろう？\nそんななまえのこ、いたかしら……","さあ、ぼうやたちいらっしゃい。ごはんのじかんよ。"]},{label:"はおうの広場",face_id:"m05",say:["ママ？ママなの？\n…もう大丈夫なの？ここには人狼なんていないのかい？\n\n…そっかあ…\n\n\n人狼だって？！","誰にも、腰抜けなんて…言わせないぞっ"]},{label:"人狼議事 ちゃんぷる",face_id:"all",say:["ちゃんとご注文通り、さまざまな人たちをお呼びしましたよ。\nいたるところから…そう、地平の果てや、宇宙の彼方からも。\n\n中には、主様を消してくださるような方もいらっしゃるかもしれません。","皆さまお集まりありがとうございます。えー、ごほん。\nこの催し物、しっかりと楽しんでくださいませ。\n\n…何があっても、文句は言いませんよう、ご了承くださいませ。"]}]},function(e,a,i){var r={"./cs_all.yml":36,"./cs_animal.yml":37,"./cs_changed.yml":38,"./cs_ger.yml":39,"./cs_mad.yml":40,"./cs_ririnra.yml":41,"./cs_school.yml":42,"./cs_sf.yml":43,"./cs_time.yml":44,"./cs_wa.yml":45};function t(e){return i(o(e))}function o(e){var a=r[e];if(!(a+1))throw new Error("Cannot find module '"+e+"'.");return a}t.keys=function(){return Object.keys(r)},t.resolve=o,e.exports=t,t.id=35},function(e,a){e.exports={chr_set:{_id:"all",admin:"闇の呟き",maker:"天のお告げ",label:"人狼議事 ちゃんぷる"},chr_npc:[{label:"人狼議事 ちゃんぷる",csid:"all",face_id:"all",say_0:"ちゃんとご注文通り、さまざまな人たちをお呼びしましたよ。\nいたるところから…そう、地平の果てや、宇宙の彼方からも。\n\n中には、主様を消してくださるような方もいらっしゃるかもしれません。",say_1:"皆さまお集まりありがとうございます。えー、ごほん。\nこの催し物、しっかりと楽しんでくださいませ。\n\n…何があっても、文句は言いませんよう、ご了承くださいませ。"}],chr_job:[{face_id:"all",job:"かみさま"}]}},function(e,a){e.exports={chr_set:{_id:"animal",admin:"大地の震動",maker:"草原のざわめき",label:"うきうきサバンナ"},chr_npc:[{label:"うきうきサバンナ",csid:"animal",face_id:"c99",say_0:"嗚呼、聞こえる。やつの足音が聞こえる……。",say_1:"逃げろ。逃げろ！おまえらだけでも逃げろ。"}],chr_job:[{face_id:"c01",job:"こじか"},{face_id:"c02",job:"よーくしゃーてりあ"},{face_id:"c03",job:"かもすぞ"},{face_id:"c04",job:"くろひょう"},{face_id:"c05",job:"いとまきえい"},{face_id:"c06",job:"へび"},{face_id:"c07",job:"てのりぶんちょう"},{face_id:"c08",job:"たぬき"},{face_id:"c09",job:"にほんおおかみ"},{face_id:"c10",job:"そまり"},{face_id:"c11",job:"みけ"},{face_id:"r12",job:"うえきばち"},{face_id:"c13",job:"かたつむり"},{face_id:"c14",job:"くらげ"},{face_id:"c15",job:"しゃち"},{face_id:"c16",job:"あふりかぞう"},{face_id:"c17",job:"おらうーたん"},{face_id:"c18",job:"かまきり"},{face_id:"c19",job:"あげはちょう"},{face_id:"c20",job:"とら"},{face_id:"c21",job:"おおたこ"},{face_id:"c22",job:"うちゅうせん"},{face_id:"c23",job:"ぱんだ"},{face_id:"c24",job:"ぶるどっぐ"},{face_id:"c25",job:"うし"},{face_id:"c26",job:"えりまきとかげ"},{face_id:"c27",job:"ひつじ"},{face_id:"c28",job:"うさぎ"},{face_id:"c29",job:"しまうま"},{face_id:"c30",job:"おうむ"},{face_id:"c31",job:"かえる"},{face_id:"c32",job:"きんぎょ"},{face_id:"c33",job:"ねったいぎょ"},{face_id:"c34",job:"すなねずみ"},{face_id:"c35",job:"ごりら"},{face_id:"c36",job:"さらぶれっど"},{face_id:"c37",job:"ぺるしゃ"},{face_id:"c38",job:"だいおういか"},{face_id:"c39",job:"もみのき"},{face_id:"c40",job:"らいおん"},{face_id:"c41",job:"ろぶすたー"},{face_id:"c42",job:"みつりょうしゃ"},{face_id:"c43",job:"くまー"},{face_id:"c44",job:"いわとびぺんぎん"},{face_id:"c45",job:"はいえな"},{face_id:"c46",job:"あらいぐま"},{face_id:"c47",job:"しろまどうし"},{face_id:"c48",job:"くじゃく"},{face_id:"c49",job:"にほんざる"},{face_id:"c50",job:"きつね"},{face_id:"c51",job:"かげろう"},{face_id:"c52",job:"ありじごく"},{face_id:"c53",job:"やみふくろう"},{face_id:"c54",job:"さめ"},{face_id:"c55",job:"もるふぉちょう"},{face_id:"c56",job:"ぶた"},{face_id:"c57",job:"らくだ"},{face_id:"c58",job:"ゆにこーん"},{face_id:"c59",job:"れとりばー"},{face_id:"c60",job:"はむすたー"},{face_id:"c61",job:"すっぽん"},{face_id:"c62",job:"きつねりす"},{face_id:"c63",job:"おこじょ"},{face_id:"c64",job:"やまあらし"},{face_id:"c65",job:"ちすいこうもり"},{face_id:"c66",job:"ばいにん"},{face_id:"c67",job:"りす"},{face_id:"c68",job:"なまこ"},{face_id:"c69",job:"びーる"},{face_id:"c70",job:"かんがるー"},{face_id:"c71",job:"なまけもの"},{face_id:"c72",job:"ほたる"},{face_id:"c73",job:"くりおね"},{face_id:"c74",job:"はいびすかす"},{face_id:"c75",job:"いえてぃ"},{face_id:"c76",job:"めがねざる"},{face_id:"c77",job:"にんじん"},{face_id:"c78",job:"かめれおん"},{face_id:"c79",job:"わかめ"},{face_id:"c80",job:"りかおん"},{face_id:"c81",job:"ふぇねっく"},{face_id:"c82",job:"どぶねずみ"},{face_id:"c83",job:"いそぎんちゃく"},{face_id:"c84",job:"しろへび"},{face_id:"c85",job:"かみつきがめ"},{face_id:"c86",job:"かも"},{face_id:"c87",job:"りゅう"},{face_id:"c88",job:"ゆでたまご"},{face_id:"c89",job:"かば"},{face_id:"c90",job:"さい"},{face_id:"c91",job:"あるぱか"},{face_id:"c92",job:"さば"},{face_id:"c93",job:"わらいかわせみ"},{face_id:"c94",job:"あかまむし"},{face_id:"c95",job:"やもり"},{face_id:"c96",job:"せあかごけぐも"},{face_id:"c97",job:"しぇぱーど"},{face_id:"c98",job:"はしびろこう"},{face_id:"c99",job:"しんかいぎょ"},{face_id:"c100",job:"びーばー"},{face_id:"c101",job:"すずらん"},{face_id:"c102",job:"さんた"},{face_id:"c103",job:"おうむがい"},{face_id:"c104",job:"みいら"},{face_id:"c105",job:"うみねこ"},{face_id:"c106",job:"まんぼう"},{face_id:"c107",job:"いぼいのしし"},{face_id:"c108",job:"ぶろっこりー"},{face_id:"c109",job:"しろちゃとら"}]}},function(e,a){e.exports={chr_set:{_id:"changed",admin:"闇の呟き",maker:"広場のお告げ",label:"はおうの広場"},chr_npc:[{label:"とのさま広場",csid:"changed",face_id:"m08",say_0:"じんろう？\nそんななまえのこ、いたかしら……",say_1:"さあ、ぼうやたちいらっしゃい。ごはんのじかんよ。"},{_id:"m05",label:"はおうの広場",csid:"changed_m05",face_id:"m05",say_0:"ママ？ママなの？\n…もう大丈夫なの？ここには人狼なんていないのかい？\n\n…そっかあ…\n\n\n人狼だって？！",say_1:"誰にも、腰抜けなんて…言わせないぞっ"}],chr_job:[{face_id:"b44",job:"こあくとう"},{face_id:"b49",job:"いしく"},{face_id:"m01",job:"ようせい"},{face_id:"m02",job:"ようせい"},{face_id:"m03",job:"しょうぐん"},{face_id:"m04",job:"すくみず"},{face_id:"m05",job:"はおう"},{face_id:"m06",job:"きゅうていがか"},{face_id:"m07",job:"こひつじ"},{face_id:"m08",job:"おふくろのあじ"},{face_id:"m09",job:"しーさー"},{face_id:"m10",job:"ころぽっくる"},{face_id:"m11",job:"神聖騎士"},{face_id:"m12",job:"暗黒騎士"},{face_id:"m13",job:"調律師"},{face_id:"m14",job:"奇跡の子"},{face_id:"m15",job:"びじん"},{face_id:"m16",job:"りゅうきへい"},{face_id:"m18",job:"記号の妖精"},{face_id:"m19",job:"おひめさま"},{face_id:"m20",job:"げぼく"},{face_id:"m99",job:"かみさま"},{face_id:"r30",job:"ひとづかい"}]}},function(e,a){e.exports={chr_set:{_id:"ger",admin:"闇の呟き",maker:"馬頭琴の調",label:"エクスパンション・セット「大陸議事」"},chr_npc:[{label:"エクスパンション・セット「大陸議事」",csid:"ger",face_id:"g03",say_0:"まさか……これは……？\n\n真相が分かったわ！\n日が出たらすぐ、麓の皆に知らせないと！",say_1:"飛車が…壊れてる……\n葛橋が…焼けてる……\n\n！　なんだ、猫か……。おどかさないでよ。\nん？"}],chr_job:[{face_id:"g01",job:"三元道士"},{face_id:"g02",job:"白鶴拳"},{face_id:"g03",job:"吹牛方士"},{face_id:"gc61",job:"釣り師"},{face_id:"g04",job:"心意六合拳"},{face_id:"g05",job:"本草方士"},{face_id:"g06",job:"宝飾交易"},{face_id:"g07",job:"お針子"},{face_id:"g08",job:"馬鹿"}]}},function(e,a){e.exports={chr_set:{_id:"mad",admin:"闇の呟き",maker:"天上の調べ",label:"エクスパンション・セット「狂騒議事」"},chr_npc:[{label:"エクスパンション・セット「狂騒議事」",csid:"mad",face_id:"c83",say_0:"どうせ、殺されるわみんな。…みんな\n\n\n/* 死ねばいいのに */",say_1:"１人になるのゎ私ばっか。どっちの道ぉ選んでも、\n私ゎ十分です。明日も待っててね。お願いだから、\n離れて行かないで？\nいつまでも、\nなんで私ばっか\n\n<b>日記はそこで途切れ、発見されるまで打ち捨てられていた。</b>"},{label:"エクスパンション・セット「狂騒議事」（ヤヘイ）",csid:"mad_mad05",face_id:"mad05",say_0:"…うん。もうな、だいぶまえだ。\n借家住まいでさ、天井板がずれて、開いているから入り込んでみたんだ。\n\n結構広くてさ。奥へ、奥へ、這い進んでたら明かりが切れてさ。\nもう右も左もわからなくってさあ…。\n\n必死に暴れたら、明るいとこに出た。\n知らない街だった。",say_1:"…うん。そうだよ。\nまだ、その街から出られないんだ。おまえだって、そうなんだろう？\n\nあー、あっち。いや、こっちかも？\nそっちの先はまだ手繰ってないかもしれねえよ？\nウケッ、ウケッ、ウケコッ、ウコケ、ウコケ、ウヒャホ、コケコケコケ！"}],chr_job:[{face_id:"c103",job:"厭世家"},{face_id:"c83",job:"虹追い"},{face_id:"mad01",job:"青い鳥"},{face_id:"mad02",job:"蟻塚崩し"},{face_id:"mad03",job:"露店巡り"},{face_id:"mad04",job:"酸味探し"},{face_id:"mad05",job:"天井手繰り"},{face_id:"mad06",job:"隠れん坊"},{face_id:"mad07",job:"早口言葉"},{face_id:"mad08",job:"妄執の誓い"},{face_id:"mad09",job:"隣席座り"},{face_id:"mad10",job:"追憶探り"},{face_id:"mad11",job:"乱痴気"}]}},function(e,a){e.exports={chr_set:{_id:"ririnra",admin:"闇の呟き",maker:"天のお告げ",label:"人狼議事"},chr_npc:[{label:"人狼議事（キャサリン）",csid:"ririnra_c05",face_id:"c05",say_0:"たいへん、たいへん、たいへん！",say_1:"大変、人狼が出たよ！　いつもは嘘だけど、今度は本当の本当に本当！"},{label:"人狼議事（ベネット）",csid:"ririnra_c08",face_id:"c08",say_0:"壁の向こうだ、やつの足音が聞こえる。いよいよ隣室に迫る。\n明日は、もう……",say_1:"足音が部屋の前で止まった。そして、ドアノブがゆっくりと回る音が聞こえる。振り向いてはいけない、振り向けば\n\n<b>日記はそこで途切れ、発見されるまで打ち捨てられていた。</b>"},{label:"人狼議事（タバサ）",csid:"ririnra_c19",face_id:"c19",say_0:"ねぇ、遊んでかない？今夜はあなたが狼よ……",say_1:"人狼なんているわけないじゃん？みんな大げさなのさ。"},{label:"人狼議事（ソフィア）",csid:"ririnra_c67",face_id:"c67",say_0:"こんばんわ、こんな遅くにたいへんですね。\n\n………\n行っちゃった。へんなの。",say_1:"まさかあの時、あのひとが……？\n人殺しと一緒にいるなんて……！へや…、部屋に戻らせてもらいます！"},{label:"人狼議事（ヨアヒム）",csid:"ririnra_c68",face_id:"c68",say_0:"ふひ、ふひひ！人狼になど……くれてやるものかヨ！",say_1:"人殺しと一緒にいるなんてごめんだヨ！へ…へっ、部屋に戻らせてもらうヨ！"},{label:"人狼議事（ヴェスパタイン）",csid:"ririnra_c72",face_id:"c72",say_0:"嗚呼、聞こえる。やつの足音が聞こえる……。",say_1:"逃げろ。逃げろ！おまえらだけでも逃げろ。"},{label:"人狼議事（ヨーランダ）",csid:"ririnra_c51",face_id:"c51",say_0:"夜風に乗って、遠くから声がとどきます。昨夜は幽かに。今夜は響き。きっと明日は……",say_1:"……あの、わたし。この騒ぎが落ち着いたら此処を出たいんです。\n幼馴染から手紙が来たの。お金を貯めたから、遠くで一緒に暮らそうって。"},{label:"人狼議事（グロリア）",csid:"ririnra_c20",face_id:"c20",say_0:"紳士ならびに淑女の皆様、わたくしの館へようこそ。\n世間の噂など唯の噂話、此処でひととき御寛ぎなさいな。",say_1:"ちょっと！そこの貴方、何をしているの！\n聞いたでしょう人狼がいるのよ、はやく見つけて処刑なさい！"},{label:"人狼議事（オスカー）",csid:"ririnra_c32",face_id:"c32",say_0:"…そっちじゃないよ、こっちだよ。\nここ、秘密基地なんだ。雨もへいきだし暖かいよ。",say_1:"ねえ。見て見て。パン持ってきたんだ。\nみんなにはナイショだよ？"},{label:"人狼議事",csid:"ririnra",face_id:"c99",say_0:"嗚呼、聞こえ る。やつの足音が聞こえる……。",say_1:"逃げろ。逃げろ！おまえらだけでも逃げろ。"}],chr_job:[{face_id:"c01",job:"花売り"},{face_id:"c02",job:"村長"},{face_id:"c03",job:"見習い医師"},{face_id:"c04",job:"女中"},{face_id:"c05",job:"病人"},{face_id:"c06",job:"紐"},{face_id:"c07",job:"雑貨屋"},{face_id:"c08",job:"本屋"},{face_id:"c09",job:"刺客"},{face_id:"c10",job:"小娘"},{face_id:"c11",job:"小僧"},{face_id:"c12",job:"御者"},{face_id:"c13",job:"ベテラン医師"},{face_id:"c14",job:"聖歌隊員"},{face_id:"c15",job:"郵便屋"},{face_id:"c16",job:"食いしん坊"},{face_id:"c17",job:"詩人"},{face_id:"c18",job:"ベテラン看護婦"},{face_id:"c19",job:"水商売"},{face_id:"c20",job:"良家の娘"},{face_id:"c21",job:"肉屋"},{face_id:"c22",job:"百姓"},{face_id:"c23",job:"伝道師"},{face_id:"c24",job:"長老"},{face_id:"c25",job:"良家の息子"},{face_id:"c26",job:"楽器職人"},{face_id:"c27",job:"牧人"},{face_id:"c28",job:"読書家"},{face_id:"c29",job:"記者"},{face_id:"c30",job:"鳥使い"},{face_id:"c31",job:"童話作家"},{face_id:"c32",job:"双生児"},{face_id:"c33",job:"双生児"},{face_id:"c34",job:"靴磨き"},{face_id:"c35",job:"親方"},{face_id:"c36",job:"飾り職"},{face_id:"c37",job:"奏者"},{face_id:"c38",job:"歌い手"},{face_id:"c39",job:"仕立て屋"},{face_id:"c40",job:"執事"},{face_id:"c41",job:"さすらい人"},{face_id:"c42",job:"掃除夫"},{face_id:"c43",job:"森番"},{face_id:"c44",job:"小悪党"},{face_id:"c45",job:"博徒"},{face_id:"c46",job:"助手"},{face_id:"c47",job:"流浪者"},{face_id:"c48",job:"宝石収集家"},{face_id:"c49",job:"石工"},{face_id:"c50",job:"会計士"},{face_id:"c51",job:"墓守"},{face_id:"c52",job:"墓堀"},{face_id:"c53",job:"大地主"},{face_id:"c54",job:"理髪師"},{face_id:"c55",job:"寡婦"},{face_id:"c56",job:"酒屋"},{face_id:"c57",job:"修道女"},{face_id:"c58",job:"司祭"},{face_id:"c59",job:"修道士"},{face_id:"c60",job:"良家の末娘"},{face_id:"c61",job:"釣り師"},{face_id:"c62",job:"風来坊"},{face_id:"c63",job:"漂白工"},{face_id:"c64",job:"墓荒らし"},{face_id:"c65",job:"始末屋"},{face_id:"c66",job:"紅茶屋"},{face_id:"c67",job:"店番"},{face_id:"c68",job:"賭場の主"},{face_id:"c69",job:"美術家"},{face_id:"c70",job:"子守り"},{face_id:"c71",job:"道案内"},{face_id:"c72",job:"ランタン職人"},{face_id:"c73",job:"水商売"},{face_id:"c74",job:"踊り手"},{face_id:"c75",job:"奏者"},{face_id:"c76",job:"留守番"},{face_id:"c77",job:"馬飼い"},{face_id:"c78",job:"道化師"},{face_id:"c79",job:"長老の孫"},{face_id:"c80",job:"若者"},{face_id:"c81",job:"薬屋"},{face_id:"c82",job:"執事見習い"},{face_id:"c83",job:"受付"},{face_id:"c84",job:"妻"},{face_id:"c85",job:"お使い"},{face_id:"c86",job:"放蕩者"},{face_id:"c87",job:"病人"},{face_id:"c88",job:"料理人"},{face_id:"c99",job:"厭世家"},{job:"新妻",face_id:"c89"},{job:"粉ひき",face_id:"c90"},{job:"洗濯婦",face_id:"c91"},{job:"洗濯婦",face_id:"c92"},{job:"洗濯婦",face_id:"c93"},{face_id:"c94",job:"女主人"},{face_id:"c95",job:"新聞配達"},{face_id:"c96",job:"学者"},{job:"捜査官",face_id:"c97"},{job:"探偵",face_id:"c98"},{job:"徒弟",face_id:"c100"},{job:"手伝い",face_id:"c101"},{face_id:"c102",job:"指揮者"},{face_id:"c103",job:"厭世家"},{face_id:"c104",job:"負傷兵"},{face_id:"c105",job:"教え子"},{face_id:"c106",job:"魚屋"},{face_id:"c107",job:"成金"},{face_id:"c108",job:"採集人"},{face_id:"c109",job:"村娘"},{face_id:"c110",job:"ろくでなし"},{face_id:"c111",job:"愛人"},{face_id:"c112",job:"許婚"},{face_id:"c113",job:"紐"},{face_id:"c114",job:"革命家"},{face_id:"c115",job:"廃品回収"},{face_id:"c116",job:"逃亡者"},{face_id:"c117",job:"宿屋"},{face_id:"c118",job:"渡し船"},{face_id:"c119",job:"信徒"},{face_id:"c120",job:"庭師"},{face_id:"c121",job:"農薬売"}]}},function(e,a){e.exports={chr_set:{_id:"school",admin:"校内放送",maker:"校内放送",label:"私立七転学園"},chr_npc:[{label:"私立七転学園",csid:"school",face_id:"c99",say_0:"嗚呼、聞こえる。やつの足音が聞こえる……。",say_1:"逃げろ。逃げろ！おまえらだけでも逃げろ。"}],chr_job:[{face_id:"c01",job:"華道部"},{face_id:"c02",job:"校長"},{face_id:"c03",job:"化学教師"},{face_id:"c04",job:"ＳＯＳ団"},{face_id:"c05",job:"留年生"},{face_id:"c06",job:"保健体育教師"},{face_id:"c07",job:"歴史教師"},{face_id:"c08",job:"図書委員"},{face_id:"c09",job:"動く銅像"},{face_id:"c10",job:"ミーハー"},{face_id:"c11",job:"優等生"},{face_id:"c12",job:"用務員"},{face_id:"c13",job:"生物教師"},{face_id:"c14",job:"コーラス部"},{face_id:"c15",job:"地理教師"},{face_id:"c16",job:"食堂のおねいさん"},{face_id:"c17",job:"演劇部顧問"},{face_id:"c18",job:"数学教師"},{face_id:"c19",job:"チアリーダー"},{face_id:"c20",job:"理事長の孫"},{face_id:"c21",job:"球部顧問"},{face_id:"c22",job:"農業科"},{face_id:"c23",job:"現国教師"},{face_id:"c24",job:"理事長"},{face_id:"c25",job:"校長の孫"},{face_id:"c26",job:"吹奏楽部"},{face_id:"c27",job:"手芸部"},{face_id:"c28",job:"文芸部"},{face_id:"c29",job:"新聞部"},{face_id:"c30",job:"飼育委員"},{face_id:"c31",job:"漫画研究部"},{face_id:"c32",job:"演劇部"},{face_id:"c33",job:"演劇部"},{face_id:"c34",job:"球児"},{face_id:"c35",job:"体育教師"},{face_id:"c36",job:"美術部"},{face_id:"c37",job:"音楽教師"},{face_id:"c38",job:"軽音楽部"},{face_id:"c39",job:"家政科教師"},{face_id:"c40",job:"教頭先生"},{face_id:"c41",job:"登山部"},{face_id:"c42",job:"生徒会執行部"},{face_id:"c43",job:"番長"},{face_id:"c44",job:"問題児"},{face_id:"c45",job:"スケバン"},{face_id:"c46",job:"保険医"},{face_id:"c47",job:"転校生"},{face_id:"c48",job:"美術教師"},{face_id:"c49",job:"技術教師"},{face_id:"c50",job:"風紀委員"},{face_id:"c51",job:"幽霊部員"},{face_id:"c52",job:"映画研究会"},{face_id:"c53",job:"寮管理人"},{face_id:"c54",job:"野球部"},{face_id:"c55",job:"肖像画"},{face_id:"c56",job:"世界史教師"},{face_id:"c57",job:"修士"},{face_id:"c58",job:"名誉教授"},{face_id:"c59",job:"修士"},{face_id:"c60",job:"ラクロス部"},{face_id:"c61",job:"魚拓部"},{face_id:"c62",job:"守衛"},{face_id:"c63",job:"マネージャー"},{face_id:"c64",job:"格闘技同好会"},{face_id:"c65",job:"教育実習"},{face_id:"c66",job:"茶道部顧問"},{face_id:"c67",job:"購買部"},{face_id:"c68",job:"後援者"},{face_id:"c69",job:"陶芸部"},{face_id:"c70",job:"先輩"},{face_id:"c71",job:"帰宅部"},{face_id:"c72",job:"ヴィジュアル系バンド部"},{face_id:"c73",job:"チアガール"},{face_id:"c74",job:"社交ダンス部"},{face_id:"c75",job:"演奏講師"},{face_id:"c76",job:"委員長"},{face_id:"c77",job:"いきもの係"},{face_id:"c78",job:"演劇部"},{face_id:"c79",job:"水泳部"},{face_id:"c80",job:"陸上部"},{face_id:"c81",job:"科学部"},{face_id:"c82",job:"ガリ勉"},{face_id:"c83",job:"放送部"},{face_id:"c84",job:"講師"},{face_id:"c85",job:"おてんば"},{face_id:"c86",job:"柔道部"},{face_id:"c87",job:"天文部"},{face_id:"c88",job:"栄養士"},{face_id:"c89",job:"新任教師"},{face_id:"c90",job:"ラグビー部"},{face_id:"c91",job:"緑のおばさん"},{face_id:"c92",job:"テニス部"},{face_id:"c93",job:"書道部"},{face_id:"c94",job:"PTA会長"},{face_id:"c95",job:"人体模型"},{face_id:"c96",job:"助教授"},{face_id:"c97",job:"駐在さん"},{face_id:"c98",job:"教授"},{face_id:"c99",job:"不登校児"},{face_id:"c100",job:"サッカー部"},{face_id:"c101",job:"園芸部"},{face_id:"c102",job:"前校長"},{face_id:"c103",job:"オカルト同好会"},{face_id:"c104",job:"剣道部"},{face_id:"c105",job:"弓道部"},{face_id:"c106",job:"水泳部顧問"},{face_id:"c107",job:"前理事長"},{face_id:"c108",job:"無線部"},{face_id:"c109",job:"占い研究会"}]}},function(e,a){e.exports={chr_set:{_id:"sf",admin:"黒体放射のエヴェレット解釈",maker:"重ね合せ猫のユニタリ変換",label:"明後日への道標"},chr_npc:[{label:"明後日への道標",csid:"SF",face_id:"sf04",say_0:"とたたたたんっ。\n\n<b>めざましい速さで木の洞に駆け込むと、じっと潜んだ暗闇に瞳がふたつ。\nいちど大好きな閉所に収まると、そうかんたんに出てはこないのだ。</b>",say_1:"ちゅー！\n\n　ちゅー！\n\n<b>がりがり、がりがり。ケージの縁をひっかくと、うろうろ、うろうろ右へ左へ駆け回る。木の洞に目もくれず、夜中じゅう走り続けるのだった……</b>"},{label:"明後日への道標（ナユタ）",csid:"SF_sf10",face_id:"sf10",say_0:"f*ck！またチオチモリンと二酸化炭素分圧だし！\nエアコンがコンタミるしスタグるしf*ck'nオーロラの季節だし、ガルタイトもサクラダイトもf*ck'n高っけーし…\n\n<b>同日\n整備日誌\n　定期点検。ただちに健康に影響はないが、擦過痕…</b>",say_1:"よーf*ck'nおまえら。\nマジ聞け。エヴァってでかい１０円キズ見つけた。誰だし？\nマジ怒んねーから手ぇ挙げ\n\n<b>ぷつん</b>\n\nっと。瞬停った…。f*ck。\nちょっと外の様子見てくる。俺のプリン残しといてくれよ。"}],chr_job:[{face_id:"sf01",job:"通信士"},{face_id:"sf02",job:"哲学者"},{face_id:"sf03",job:"道案内"},{face_id:"sf04",job:"お散歩隊長"},{face_id:"sf05",job:"新製品"},{face_id:"sf06",job:"士官"},{face_id:"sf07",job:"遊泳員"},{face_id:"sf08",job:"服飾商"},{face_id:"sf09",job:"研修生"},{face_id:"sf10",job:"保安技師"},{face_id:"sf11",job:"艇長"},{face_id:"sf12",job:"廃神"},{face_id:"sf13",job:"消防隊長"},{face_id:"sf14",job:"対面販売"},{face_id:"sf15",job:"忍者隊"},{face_id:"sf16",job:"保険調査"},{face_id:"sf17",job:"幽閉児"},{face_id:"sf18",job:"感性子"},{face_id:"sf19",job:"理性子"},{face_id:"sf20",job:"測量士"},{face_id:"sf021",job:"星間帆走"},{face_id:"sf022",job:"鉱滓地区"},{face_id:"sf023",job:"地下軌道"},{face_id:"sf024",job:"光彩楽団"},{face_id:"sf025",job:"救星隊"},{face_id:"sf026",job:"星先案内"},{face_id:"sf027",job:"鉱滓皇帝"},{face_id:"sf028",job:"溶接技師"},{face_id:"sf029",job:"機巧忍軍"},{face_id:"sf030",job:"閉鎖管理"},{face_id:"sf031",job:"意匠造形"},{face_id:"sf032",job:"鉱滓地区"},{face_id:"sf033",job:"重層培養"},{face_id:"sf034",job:"華美人"},{face_id:"sf035",job:"銀河ギャル"},{face_id:"sf036",job:"好奇診"},{face_id:"sf037",job:"執行隊"},{face_id:"sf038",job:"複眼レフ"}]}},function(e,a){e.exports={chr_set:{_id:"time",admin:"第四の壁の深奥",maker:"次元X式コンピューター",label:"エクスパンション・セット「帰還者議事」"},chr_npc:[{label:"エクスパンション・セット「帰還者議事」",csid:"time",face_id:"c10",say_0:"M4ライフルを持ってさえいれば…、なーんて、思っててもしょうがないね。鍵かけとこう。",say_1:"やっぱさ、銃を持った善人がいないとさ。<br><br>ちょっと出かけてくる！プリン食べちゃダメだよ！"}],chr_job:[{face_id:"c10",job:"小銃協会"},{face_id:"t01",job:"友愛組合"},{face_id:"t02",job:"幸運の科学"},{face_id:"t03",job:"FSM団"},{face_id:"t04",job:"截拳道"},{face_id:"t05",job:"開放的市民"},{face_id:"c09",job:"暗殺教団"},{face_id:"t06",job:"死ね死ね団"},{face_id:"t07",job:"勧善懲悪委"},{face_id:"t08",job:"覆面嫉妬団"},{face_id:"t09",job:"匿名軍団"},{face_id:"t10",job:"営利政府"},{face_id:"t11",job:"鷹の爪団"},{face_id:"t12",job:"地下鉄道"},{face_id:"t13",job:"MNU機関"},{face_id:"t14",job:"猫の集会"},{face_id:"t15",job:"少年探偵団"},{face_id:"t16",job:"安全保障局"},{face_id:"t17",job:"薔薇∴十字"},{face_id:"t18",job:"白銀∴秘星"},{face_id:"t19",job:"聖戦士募集"},{face_id:"t20",job:"MI:18"},{face_id:"t21",job:"九未知会"},{face_id:"t22",job:"学園特警"},{face_id:"t23",job:"孤高天使連合"},{face_id:"t24",job:"トレーサー"},{face_id:"t25",job:"2.14革命機構"},{face_id:"t26",job:"法隆寺"},{face_id:"t27",job:"硯友社"},{face_id:"t28",job:"樫の樹の子ら"},{face_id:"t29",job:"透明女子会"},{face_id:"t30",job:"旅団✡肘笠雨"},{face_id:"t31",job:"呵呵老会"},{face_id:"t32",job:"安全調査局"},{face_id:"t33",job:"亡命同盟"},{face_id:"t34",job:"大銃協会"},{face_id:"t35",job:"紅客連盟"},{face_id:"t36",job:"PPP"},{face_id:"t37",job:"素顔連盟"},{face_id:"t38",job:"北後家蜘蛛会"},{face_id:"t39",job:"黄金∴黎明"}]}},function(e,a){e.exports={chr_set:{_id:"wa",admin:"闇の呟き",maker:"稲荷のお告げ",label:"和の国てやんでえ"},chr_npc:[{label:"和の国てやんでえ",csid:"wa",face_id:"w17",say_0:"嗚呼、聞こえる。やつの足音が聞こえる……。",say_1:"逃げろ。逃げろ！おまえらだけでも逃げろ。"},{label:"和の国てやんでえ（仁右衛門）",csid:"wa_w23",face_id:"w23",say_0:"なんと、これは奇っ怪……分かったゾ！",say_1:"やっぱり人狼は実在するんだヨ！　うっひょひょーい！"}],chr_job:[{face_id:"w01",job:"役者"},{face_id:"w02",job:"浪人"},{face_id:"w03",job:"忍者"},{face_id:"w04",job:"町娘"},{face_id:"w05",job:"飴師"},{face_id:"w06",job:"巫女"},{face_id:"w07",job:"双子"},{face_id:"w08",job:"双子"},{face_id:"w09",job:"宣教師"},{face_id:"w10",job:"刺客"},{face_id:"w11",job:"釣り師"},{face_id:"w12",job:"女中"},{face_id:"w13",job:"団子屋"},{face_id:"w14",job:"手妻師"},{face_id:"w15",job:"山姥"},{face_id:"w16",job:"髪結い"},{face_id:"w17",job:"病人"},{face_id:"w18",job:"後妻"},{face_id:"w20",job:"呉服問屋"},{face_id:"w21",job:"うどん職人"},{face_id:"w22",job:"そば職人"},{face_id:"w23",job:"弁士"},{face_id:"w24",job:"喧嘩屋"},{face_id:"w25",job:"説法師"},{face_id:"w26",job:"餓鬼大将"},{face_id:"w27",job:"発明家"},{face_id:"w28",job:"飛脚"},{face_id:"w29",job:"琴弾き"},{face_id:"w30",job:"宗主"},{face_id:"w31",job:"子守り"},{face_id:"w32",job:"落胤"},{face_id:"w33",job:"船大工"},{face_id:"w34",job:"野伏り"},{face_id:"w35",job:"神主"},{face_id:"w36",job:"楽士"},{face_id:"w37",job:"薬売り"},{face_id:"w38",job:"門下生"},{face_id:"w39",job:"武家の娘"},{face_id:"w40",job:"懐刀"},{face_id:"w41",job:"物乞い"},{face_id:"w43",job:"丁稚"},{face_id:"w44",job:"機織り"},{face_id:"w45",job:"座敷守"},{face_id:"w46",job:"屍漁り"},{face_id:"w47",job:"肥代取り"},{face_id:"w48",job:"和算家"},{_id:"w49",face_id:"w49",job:"抜荷"},{face_id:"w50",job:"半の目"},{face_id:"w51",job:"真剣師"},{face_id:"w52",job:"看板娘"},{face_id:"w53",job:"旅籠"}]}},function(e,a,i){var r,t,o,n;i(0),o=i(47),n={facebook:i(48),twitter:i(49),slack:i(50),github:i(51),google:i(52)},({YAML:t,API:r}=i(5)),e.exports=function(e,a,{auth:i,url:t}){var c,l,s,d,_,u;({Schema:l}=a),c=a.model("Passport",new l({_id:String,nick:String,icon:String,mail:String,sign:String,write_at:Number,provider:String,account:String,token:String})),o.serializeUser(function(e,a){var i;return e._id=[e.provider,e.account].join("-"),c.findByIdAndUpdate(e._id,e,{$setOnInsert:{sign:null!=(i=e.mail)?i:e.nick},new:!1,upsert:!0}).exec(function(e,i){return a(e,i)})}),o.deserializeUser(function(e,a){return a(null,e)}),e.use(o.initialize()),e.use(o.session()),e.post("/api/user",r(async function({body:e,session:{passport:{user:a}}}){return(null!=a?a._id:void 0)?(Object.assign(a,e.user),{user:a=await c.findByIdAndUpdate(a._id,a,{new:!0,upsert:!1})}):{message:"ログインしていません。"}})),e.get("/logout",function(e,a){return e.logout(),a.redirect("/")});for(u in i)({attr:d,authenticate:_}=i[u]),({Strategy:s}=n[u]),d.callbackURL=`${t.web}/auth/${u}/callback`,o.use(new s(d,function(e,a,{provider:i,id:r,displayName:t,emails:o,photos:n},c){var l;return c(null,l={icon:null!=n?n[0].value:void 0,mail:null!=o?o[0].value:void 0,nick:t,write_at:new Date-0,provider:i,account:r,token:e}),console.log("passport-profile",l)})),e.get(`/auth/${u}`,o.authenticate(u,_)),e.get(`/auth/${u}/callback`,o.authenticate(u,{failureRedirect:"/",successRedirect:"/"},function(e,a){return a.redirect("/")})),console.log(`${u} authenticate set.`,_)}},function(e,a){e.exports=require("passport")},function(e,a){e.exports=require("passport-facebook")},function(e,a){e.exports=require("passport-twitter")},function(e,a){e.exports=require("passport-slack")},function(e,a){e.exports=require("passport-github")},function(e,a){e.exports=require("passport-google-oauth20")},function(e,a,i){var r,t,o,n;n=i(54),i(4),t=i(6),r=i(0),o={},e.exports=function(e,{url:a,db:i}){i.mongo_sow&&(n.connect(i.mongo_sow).then(function(e){return function(e,a){return console.log(e,a)},o.find=function(a,i,r){return e.collection(a,{ObjectId:!1}).find(i,r)},o.aggregate_message=function(){var a;return a=function(a,i,...r){return e.collection("message_by_story_for_face",{ObjectId:!1}).aggregate([...r,{$group:{_id:i,date_min:{$min:"$date_min"},date_max:{$max:"$date_max"},max:{$max:"$max"},all:{$sum:"$all"},count:{$sum:"$count"},story_ids:{$addToSet:"$_id.story_id"}}},{$out:a}],{ObjectId:!1})},Promise.all([a("message_for_face",{face_id:"$_id.face_id"}),a("message_for_face_sow_auth",{face_id:"$_id.face_id",sow_auth_id:"$_id.sow_auth_id"}),a("message_for_face_mestype",{face_id:"$_id.face_id",mestype:"$_id.mestype"})])},o.aggregate_potof=function(){var a;return a=function(a,i,...r){return e.collection("potofs",{ObjectId:!1}).aggregate([...r,{$match:{sow_auth_id:{$exists:1,$nin:[null,"master","admin"]},face_id:{$exists:1,$ne:null}}},{$group:{_id:i,date_min:{$min:"$timer.entrieddt"},date_max:{$max:"$timer.entrieddt"},story_ids:{$addToSet:"$story_id"}}},{$out:a}],{ObjectId:!1})},Promise.all([a("potof_for_face",{face_id:"$face_id"}),a("potof_for_face_live",{face_id:"$face_id",live:"$live"}),a("potof_for_face_sow_auth",{face_id:"$face_id",sow_auth_id:"$sow_auth_id"}),a("potof_for_face_role",{face_id:"$face_id",role_id:"$role"},{$unwind:"$role"})])},o.aggregate_max=function(){return e.collection("potof_for_face_sow_auth_max",{ObjectId:!1}).remove({}).then(function(){return e.collection("potof_for_face_sow_auth",{ObjectId:!1}).aggregate([{$project:{_id:1,count:{$size:"$story_ids"}}},{$group:{_id:{face_id:"$_id.face_id"},count:{$max:"$count"}}}],{ObjectId:!1})}).then(function(e){return Promise.all(e.map(function(e){return o.find("potof_for_face_sow_auth",{"_id.face_id":e._id.face_id,story_ids:{$size:e.count}}).then(function(a){var i;return[i]=r.sortBy(a,function(e){return e.date_min}),e.date_min=i.date_min,e.date_max=i.date_max,e._id=i._id,e})}))}).then(function(a){return e.collection("potof_for_face_sow_auth_max",{ObjectId:!1}).insert(a)})},o.oldlog=function(){return e.collection("stories",{ObjectId:!1}).aggregate([{$match:{is_finish:{$eq:!0}}},{$project:{_id:1}},{$group:{_id:null,story_ids:{$addToSet:"$_id"}}}],{ObjectId:!1}).then(function([e]){var i,r,o,n;return i=function(){var i,t,c,l;for(l=[],i=0,t=(c=e.story_ids).length;i<t;i++)o=c[i],r=`./static/sow/${o}.json.gz`,n=`http:${a.api}/story/oldlog/${o}`,l.push(`  ls "${r}" || curl "${n}" | gzip --stdout --best > "${r}"  `);return l}(),r="./static/sow/index.json.gz",n=`http:${a.api}/story/oldlog`,i.push(` curl "${n}" | gzip --stdout --best > "${r}"  `),r="./static/aggregate/faces/index.json.gz",n=`http:${a.api}/aggregate/faces`,i.push(` curl "${n}" | gzip --stdout --best > "${r}"  `),i.push(" gulp amazon:gz "),t.writeFile("./static/sow.sh",i.join("\n"),function(e){return console.log(e)}),!1})},o.scan=function(){return e.collection("message_by_story_for_face",{ObjectId:!1}).aggregate([{$group:{_id:null,story_ids:{$addToSet:"$_id.story_id"}}}],{ObjectId:!1}).then(function([a]){var i,r;return i=null!=(r=null!=a?a.story_ids:void 0)?r:[],e.collection("stories",{ObjectId:!1}).aggregate([{$match:{_id:{$nin:i},is_finish:{$eq:!0}}},{$project:{_id:1}},{$group:{_id:null,story_ids:{$addToSet:"$_id"}}}],{ObjectId:!1})}).then(function([e]){var a,i,r,t;return i=null!=(r=null!=e?e.story_ids:void 0)?r:[],console.log("step B"),console.log(i),t=function(){var e,r,t;for(t=[],e=0,r=i.length;e<r;e++)a=i[e],t.push(o.set_base(a));return t}(),Promise.all(t)})},o.set_base=function(a){return e.collection("messages",{ObjectId:!1}).aggregate([{$match:{story_id:a,sow_auth_id:{$exists:1,$ne:null},face_id:{$exists:1,$ne:null},logid:{$exists:1,$ne:null},log:{$exists:1,$ne:null}}},{$project:{sow_auth_id:1,story_id:1,face_id:1,logid:1,date:1,size:{$strLenCP:"$log"}}},{$group:{_id:{sow_auth_id:"$sow_auth_id",story_id:"$story_id",face_id:"$face_id",mestype:{$substr:["$logid",0,2]}},date_min:{$min:"$date"},date_max:{$max:"$date"},max:{$max:"$size"},all:{$sum:"$size"},count:{$sum:1}}}],{ObjectId:!1}).then(function(a){return e.collection("message_by_story_for_face").insert(a)})}}).catch(function(){return console.log("!!! mongodb connect error !!!")}),e.get("/api/aggregate/job",function(e,a,i){return o.scan().then(function(){return o.aggregate_message()}).then(function(){return o.aggregate_potof()}).then(function(){return o.aggregate_max()}).then(function(){return o.oldlog()}).then(function(){return a.json({started:!0}),i()}).catch(function(e){return a.json(e),i()})}),e.get("/api/aggregate/faces",function(e,a,i){var r;return r={},Promise.all([o.find("message_for_face",r),o.find("potof_for_face",r),o.find("potof_for_face_sow_auth_max",r)]).then(function([e,r,t]){return a.json({m_faces:e,faces:r,sow_auths:t}),i()}).catch(function(a){return console.error(e,a),i()})}),e.get("/api/aggregate/faces/:id",function(e,a,i){var r,t;return({id:r}=e.params),t={"_id.face_id":r},Promise.all([o.find("message_for_face",t),o.find("message_for_face_mestype",t),o.find("message_for_face_sow_auth",t),o.find("potof_for_face",t),o.find("potof_for_face_role",t),o.find("potof_for_face_live",t)]).then(function([e,r,t,o,n,c]){return a.json({m_faces:e,mestypes:r,sow_auths:t,faces:o,roles:n,lives:c}),i()}).catch(function(a){return console.error(e,a),i()})}),e.get("/api/story/progress",function(e,a,i){var r,t,n;return n={is_epilogue:!1,is_finish:!1},r={comment:0,password:0},t={},o.find("stories",n,r).then(function(e){return t.stories=e,e.map(function(e){return`${e._id}-0`})}).then(function(e){return o.find("events",{_id:{$in:e}})}).then(function(e){return t.events=e}).then(function(){return a.json(t),i()}).catch(function(a){return console.error(e,a),i()})}),e.get("/api/story/oldlog",function(e,a,i){var r,t;return t={is_epilogue:!0,is_finish:!0},r={comment:0,password:0},Promise.all([o.find("stories",t,r),o.find("potof_for_face",{})]).then(function([e,r]){return a.json({stories:e,faces:r}),i()}).catch(function(a){return console.error(e,a),i()})}),e.get("/api/story/oldlog/:story_id",function(e,a,i){var r,t;return({story_id:t}=e.params),r={password:0},Promise.all([o.find("stories",{_id:t,is_epilogue:!0,is_finish:!0},r),o.find("messages",{story_id:t}),o.find("events",{story_id:t}),o.find("potofs",{story_id:t})]).then(function([e,r,t,o]){return e.length||(r=t=o=[]),a.json({stories:e,messages:r,events:t,potofs:o}),i()}).catch(function(a){return console.error(e,a),i()})}))}},function(e,a){e.exports=require("mongodb-bluebird")},function(e,a){e.exports=require("config")},function(e,a,i){var r,t;({url:t,game:r}=i(55)),e.exports={url:t,game:r}},function(e,a,i){var r,t,o,n,c;r=i(12)(),t=i(55),global.env=i(56),({pm_id:n}=process.env),Object.assign(t,{pm_id:n}),process.on("unhandledRejection",console.dir),i(13)(r,t),t.use_api&&(i(15)(r,t),i(58)(r,t),i(18)(r,t),i(53)(r,t)),i(63)(r,t),o=t.host||"127.0.0.1",c=(t.port||4e3)+(n-0||0),r.listen(c,o),console.log(`Server is listening on http://${o}:${c}`)},function(e,a,i){var r,t,o;r=i(59),t=i(60),o=[i(61),i(62)],e.exports=function(e,{pm_id:a,db:i}){var n,c,l,s,d,_;for(_=a-1||0,n=new r({db:{address:i.mongo,collection:"jobCollectionName",options:{server:{auto_reconnect:!0}}}}),l=0,s=o.length;l<s;l++)({define:c,name:d}=o[l]),n.define(d,c);return n.on("ready",function(){var e,a,i;if(!_)for(a=0,i=o.length;a<i;a++)({every:e,name:d}=o[a]),e&&n.every(e,d);return n.start()}),e.use("/agendash",t(n)),console.log(`agenda use ${i.mongo}`)}},function(e,a){e.exports=require("agenda")},function(e,a){e.exports=require("agendash")},function(e,a,i){var r;r=i(4),e.exports={name:"aggregate",every:"12 hours",define:function(e,a){return r.exec(`curl http:${env.url.api}/aggregate/job`,function(e,a,i){return r.exec("./static/sow.sh",function(e,a,i){return e?console.error(e):console.log(i)})})}}},function(e,a,i){var r;r=i(4),e.exports={name:"process",every:"2 minutes",define:function(e,a){return r.exec("ps uafxS | grep -v ^root",function(e,a,i){return e?(console.error(e),console.error(i)):console.log(a)})}}},function(e,a,i){var r,t,o,n,c;if((o=i(64)).dev=!("production"===process.env.NODE_ENV),({Nuxt:t,Builder:r}=i(70)),c=new t(o),o.dev)try{new r(c).build()}catch(e){n=e,console.error(n),process.exit(1)}e.exports=function(e){return e.use(c.render)}},function(e,a,i){e.exports={head:i(65),loading:{color:"#3B8070"},css:[],plugins:[],modules:["~/modules/extention.js"],build:i(66),env:i(56),render:i(68),router:i(69)}},function(e,a){var i;i="https://s3-ap-northeast-1.amazonaws.com/giji-assets/nuxt",e.exports={title:"人狼議事",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=0.5, shrink-to-fit=no"},{hid:"description",content:"Nuxt.js project"},{href:"mailto:7korobi@gmail.com"}],link:[{rel:"manifest",href:"/manifest.json"},{rel:"icon",type:"image/x-icon",href:"/favicon.ico"},{href:"mailto:7korobi@gmail.com"}],script:[{src:i+"/monaco-editor/vs/loader.js",type:"text/javascript",charset:"utf8"}]}},function(e,a,i){i(67),e.exports={extend:function(e,{isDev:a,isClient:i}){},publicPath:"https://s3-ap-northeast-1.amazonaws.com/giji-assets/nuxt/dist/",babel:{presets:["vue-app",["env",{targets:{browsers:["> 5%"]},forceAllTransforms:!0}]]},vendor:["d3","axios","lodash","vee-validate","~/components/vue.coffee","~/plugins/memory-record.coffee"],loaders:[{test:/\.(png|jpe?g|gif|svg)$/,loader:"url-loader",query:{limit:1e3,name:"img/[name].[hash:7].[ext]"}},{test:/\.(woff2?|eot|ttf|otf)(\?.*)?$/,loader:"url-loader",query:{limit:1e3,name:"fonts/[name].[hash:7].[ext]"}}]}},function(e,a){e.exports=require("extract-text-webpack-plugin")},function(e,a){e.exports={static:{maxAge:"1y",setHeaders:function(e,a,i){var r,t,o,n;if(/\.json\.gz$/.test(a))return({atime:r,mtime:o,ctime:t,size:n}=i),console.log({mtime:o,size:n,path:a}),e.setHeader("Content-Type","application/javascript"),e.setHeader("Content-Encoding","gzip")}},gzip:{threshold:0},etag:{weak:!0}}},function(e,a){e.exports={extendRoutes:function(e,a){},scrollBehavior:function(e,a,i){var r;switch(r=function(e,i){switch([a,i]=[a,i].map(function(e){return e.path}),!1){case a===i:return console.log(`scroll to TOP (${a} != ${i})`),{x:0,y:0};case!e:return console.log("scroll to TOP (has scrollToTop)"),{x:0,y:0}}},!1){case!i:return console.log("scroll restore",i),i;case!e.hash:return console.log("scroll to "+e.hash),{selector:e.hash};default:switch(e.name){case"sow-village-idx-mode":case"sow-village-idx-anker":case"book-idx-mode":case"book-idx-anker":case"book-idx-edit":return{};default:return r(e.matched.some(function(e){return e.components.default.options.scrollToTop}),e)}}}}},function(e,a){e.exports=require("nuxt")}]);
//# sourceMappingURL=server.js.map