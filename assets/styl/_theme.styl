themes = {
  says: {
    SPORT:  '.SPORT'
    P09:    '.P09'
    ELSE:   '.P08'
    P07:    '.P07'
    ALIEN:  '.XSAY, .BSAY'
    P05:    '.P05'
    P04:    '.P04'
    BROAD:  '.SSAY, .MSAY'
    VBROAD: '.VSSAY, .VSAY'
    P01:    '.P01'
    WOLF:   '.WSAY'
    N01:    '.N01'
    LOVE:   '.SPSAY'
    VLOVE:  '.AIM'
    N04:    '.N04'
    N05:    '.N05'
    N06:    '.N06'
    GRAVE:  '.GSAY'
    VGRAVE: '.VGSAY'
    N09:    '.N09'

    BRASS:  '.TSAY'
  }
  stats: {
    SPORT:  '.HATER, .LONEWOLF'
    ELSE:   '.PIXI, .GURU'
    ALIEN:  '.EVIL'
    BROAD:  '.HUMAN, .DISH, .live'
    WOLF:   '.WOLF, .suicide, .victim, .cursed, .feared, .droop'
    LOVE:   '.LOVER'
    VBROAD: '.NONE, .mob'
    GRAVE: '.executed'

    GRAY:  '.suddendead, .leave'
  }
  blacks: {
    DARK: '.TITLE, .dark, .links'
    WEAK: '.btns'
  }
  pens: {
    ALIEN:  '.fa-check'
    P01:    '.fa-warning'
    WOLF:   '.fa-ban'
    SILVER: '.MAKER'
    GOLD:   '.ADMIN'
  }
}

colors = {
  SPORT:  spin(#ff0000, 10 * 18deg - 0deg)
  P09:    spin(#ff0000,  9 * 18deg - 0deg)
  ELSE:   spin(#ff0000,  8 * 18deg - 0deg)
  P07:    spin(#ff0000,  7 * 18deg - 0deg)
  ALIEN:  spin(#ff0000,  6 * 18deg - 0deg)
  P05:    spin(#ff0000,  5 * 18deg - 0deg)
  P04:    spin(#ff0000,  4 * 18deg - 0deg)
  BROAD:  spin(#ff0000,  3 * 18deg - 8deg)
  VBROAD: spin(#ff0000,  2 * 18deg - 0deg)
  P01:    spin(#ff0000,  1 * 18deg - 0deg)
  WOLF:   spin(#ff0000,  0)
  N01:    spin(#ff0000, -1 * 18deg + 0deg)
  LOVE:   spin(#ff0000, -2 * 18deg + 5deg)
  VLOVE:  spin(#ff0000, -3 * 18deg + 5deg)
  N04:    spin(#ff0000, -4 * 18deg + 0deg)
  N05:    spin(#ff0000, -5 * 18deg + 0deg)
  N06:    spin(#ff0000, -6 * 18deg + 0deg)
  GRAVE:  spin(#ff0000, -7 * 18deg + 0deg)
  VGRAVE: spin(#ff0000, -8 * 18deg + 0deg)
  N09:    spin(#ff0000, -9 * 18deg + 0deg)

  DARK:   dark   = #000000
  BLACK:  black  = #222222
  WEAK:   weak   = #4d4e46
  BRASS:  brass  = #b5a64d
  GRAY:   gray   = #999a8b
  SILVER: silver = #c0c0c0
  GOLD:   gold   = #ffd700
  LIGHT:  light  = #ffffff
}


palette($themes, $backT, $penT, $border)
  for key, $bgTheme in themes[$themes]
    $base = colors[key]
    $comp = spin($base, 180deg)
    if glass == $backT
      $bg =     mix($comp,  dark, 10%)
      $pen =    mix($base, $penT, 50%)
      $emboss = mix($base, black, 40%)
      $bold =   mix($base, black, 70%)
      $button = mix($base,  dark, 40%)
      $border = mix($base,  dark, 80%)

    if light == $backT
      $bg =     mix($base, silver, 28%)
      $pen =    mix($base,  $penT, 35%)
      $emboss = mix($base,  $penT, 70%)
      $bold =   mix($base,  $penT, 30%)
      $button = mix($base,   gray, 40%)

    if silver == $backT
      $bg =     mix($base, silver, 28%)
      $pen =    mix($comp,  $penT, 15%)
      $emboss = mix($base,   gray, 40%)
      $bold =   mix($base,  $penT, 30%)
      $button = mix($base,   gray, 40%)

    if black == $backT
      $bg = $base
      $pen = $penT
      $emboss = mix($base,  light, 80%)
      $bold =   mix($base,  light, 80%)
      $button = mix($base, silver, 80%)

    {$bgTheme}
      theme-block($pen, $bg, $emboss, $bold, $button, $border)
      theme-mark($pen, $bg, $emboss, $bold, $button, $border)
      span
        display: inline-block



theme-block($pen, $bg, $emboss, $bold, $button, $border)
  color:           $pen
  background-color: $bg
  border-color: $border

  textarea
    background-color: $bg
    border-color: $button

  .name, .date, strong
    color:        $bold
    border-color: $border

  em
    color: $bold

  abbr,
  sup,
  sub
    color:            $bg
    border-color:     $border
    background-color: $emboss


theme-mark($pen, $bg, $emboss, $bold, $button, $border)
  $on   = mix($bg, green, 80%)
  $off  = mix($bg, blue,  80%)

  b
    color: $bold

  a, button,
  [title], [data-tooltip],
  input[type=checkbox],
  input[type=radio],
  input[type=color],
  input[type=image],
  input[type=button],
  input[type=submit],
  input[type=reset]
    color: $pen

  input
    color: $pen
    background-color: $button

  a, b, button,
  [title], [data-tooltip],
  input[type=checkbox],
  input[type=radio],
  input[type=color],
  input[type=image],
  input[type=button],
  input[type=submit],
  input[type=reset]
    background: $button
    &:hover, &:focus
      background: $bg
      box-shadow:
        0 0 20px 3px $bold inset
    &.active,
    &:active
      background: $bg
      box-shadow:
        0 0 20px 3px $emboss inset

  input[type=checkbox],
  input[type=radio]
    background: $off
    &:checked
      background: $on

  a[href]
    &:link
      color: $pen
      background: $off
    &:visited
      color: $pen
      background: $on

