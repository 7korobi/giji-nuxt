themes = {
  says: {
    SPORT:  '.SPORT'
    P09:    '.P09'
    ELSE:   '.P08'
    P07:    '.P07'
    ALIEN:  '.XSAY, .BSAY'
    P05:    '.P05'
    P04:    '.P04'
    BROAD:  '.SSAY, .MSAY'
    VBROAD: '.VSSAY, .VSAY'
    P01:    '.P01'
    WOLF:   '.WSAY'
    N01:    '.N01'
    LOVE:   '.SPSAY'
    VLOVE:  '.AIM'
    N04:    '.N04'
    N05:    '.N05'
    N06:    '.N06'
    GRAVE:  '.GSAY'
    VGRAVE: '.VGSAY'
    N09:    '.N09'

    BRASS:  '.TSAY'
  }
  stats: {
    SPORT:  '.HATER, .LONEWOLF'
    ELSE:   '.PIXI, .GURU'
    ALIEN:  '.EVIL'
    BROAD:  '.HUMAN, .DISH, .live'
    WOLF:   '.WOLF, .suicide, .victim, .cursed, .feared, .droop'
    LOVE:   '.LOVER'
    VBROAD: '.NONE, .mob'
    GRAVE: '.executed'

    GRAY:  '.suddendead, .leave'
  }
  blacks: {
    DARK: '.TITLE, .dark, .links'
    WEAK: '.btns'
  }
  pens: {
    SILVER: '.MAKER'
    GOLD:   '.ADMIN'
  }
}

REDC = #CC0000
REDB = #EE1111
REDA = #FF2222

colors = {
  SPORT:  spin(REDC, 10 * 18deg - 0deg)
  P09:    spin(REDC,  9 * 18deg - 0deg)
  ELSE:   spin(REDC,  8 * 18deg - 0deg)
  P07:    spin(REDC,  7 * 18deg - 0deg)
  ALIEN:  spin(REDC,  6 * 18deg - 0deg)
  P05:    spin(REDC,  5 * 18deg - 0deg)
  P04:    spin(REDC,  4 * 18deg - 0deg)
  BROAD:  spin(REDC,  3 * 18deg - 8deg)
  VBROAD: spin(REDC,  2 * 18deg - 0deg)
  P01:    spin(REDC,  1 * 18deg - 0deg)
  WOLF:   REDC
  N01:    spin(REDC, -1 * 18deg + 0deg)
  LOVE:   spin(REDC, -2 * 18deg + 5deg)
  VLOVE:  spin(REDC, -3 * 18deg + 5deg)
  N04:    spin(REDB, -4 * 18deg + 0deg)
  N05:    spin(REDA, -5 * 18deg + 0deg)
  N06:    spin(REDA, -6 * 18deg + 0deg)
  GRAVE:  spin(REDA, -7 * 18deg + 0deg)
  VGRAVE: spin(REDA, -8 * 18deg + 0deg)
  N09:    spin(REDB, -9 * 18deg + 0deg)

  DARK:   dark   = #000000
  BLACK:  black  = #222222
  WEAK:   weak   = #4d4e46
  BRASS:  brass  = #b5a64d
  GRAY:   gray   = #999a8b
  SILVER: silver = #c0c0c0
  GOLD:   gold   = #ffd700
  LIGHT:  light  = #ffffff
}


palette($themes, $backT, $penT, $border)
  for key, $bgTheme in themes[$themes]
    $base = colors[key]
    $comp = spin($base, 180deg)

    if black == $backT
      $bg = $base
      $pen = $penT
      $emboss = mix($base,  light, 77%)
      $bold =   mix($base,  light, 77%)
      $button = mix($base, silver, 88%)
      $active = mix($base, silver, 66%)
      $focus  = mix($base, silver, 55%)

    if glass == $backT
      $border = $base
      $bg =     mix($comp,  dark, 11%)
      $pen =    mix($base, $penT, 55%)
      $emboss = mix($base,  dark, 66%)
      $bold =   mix($base,  dark, 55%)
      $button = mix($base,  dark, 66%)
      $active = mix($base,  dark, 66%)
      $focus  = mix($base,  dark, 77%)

    if light == $backT
      $bg =     mix($base, silver, 44%)
      $pen =    mix($base,  $penT, 33%)

    if silver == $backT
      $bg =     mix($base, silver, 44%)
      $pen =    $penT

    if light == $backT || silver == $backT
      $emboss = mix($base,   gray, 66%)
      $bold =   mix($base,  $penT, 33%)
      $button = mix($base,   gray, 77%)
      $active = mix($base,  black, 66%)
      $focus  = mix($base,  black, 55%)

    $on  = mix($bg, colors.ALIEN, 88%)
    $off = mix($bg, colors.N06,   88%)

    {$bgTheme}
      &,
      textarea
        color:           $pen
        background-color: $bg
        border-color: $border

      a
        color: $pen
        &:visited
          background-color: $on
        &:link
          background-color: $off

      .active
        background-color: $active

      b,
      em,
      strong,
      .name,
      .date
        color: $bold

      abbr,
      sup,
      sub
        background-color: $emboss
        color: $bg

      .fa-check
        color: mix($pen, colors.ALIEN, 33%)
      .fa-warning
        color: mix($pen, colors.P01,   33%)
      .fa-ban
        color: mix($pen, colors.WOLF,  33%)

      a,
      sup,
      sub,
      abbr,
      input,
      button,
      [title],
      [data-tooltip]
        background-color: $button
        &:hover,
        &:focus
          background-color: $focus
        &:active
          background-color: $active

      input[type=checkbox],
      input[type=radio]
        background-color: $off
        &:checked
          background-color: $on

